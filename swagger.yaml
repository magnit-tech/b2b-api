openapi: 3.0.1
info:
  title: Magnit B2B Platform API
  description: Описание API для интеграции с Магнит. События от системы Магнит реализуются на стороне Партнера, остальные методы реализованы на стороне Магнит. Сервис Партнера выступает в роли клиента. Общение происходит на основании pull-push-модели, т.е. сервис Партнера как клиент запрашивает информацию о ресурсе, может создавать/обновлять ресурсы, если это необходимо, получать события от системы Магнит. AuthRequest.client_id и AuthRequest.client_secret выдаются по запросу
  version: 0.1.37
servers:
  - url: https://b2b-api.magnit.ru/api
    description: Основной стенд интеграции.
  - url: https://b2b-api-gateway.uat.ya.magnit.ru/api
    description: Демо стенд для проведения тестирования процессинга заказов.
tags:
  - name: Auth
    description: Аутентификация в системе
  - name: Orders
    description: Заказы
  - name: Order Events
    description: События по заказу от Партнера
  - name: Nomenclature
    description: Информация по товарам
  - name: WebHookEvent
    description: События от системы Магнит
  - name: Magnit Market API - Товары
    description: Партнерская интеграция с Magnit Market по модели FBS. Товары
  - name: Magnit Market API - Категории
    description: Партнерская интеграция с Magnit Market по модели FBS. Категории
  - name: Magnit Market API - Цены
    description: Партнерская интеграция с Magnit Market по модели FBS. Цены
  - name: Magnit Market API - Остатки
    description: Партнерская интеграция с Magnit Market по модели FBS. Товары
  - name: Magnit Market API - Магазины
    description: Партнерская интеграция с Magnit Market по модели FBS. Магазины
  - name: Magnit Market API - Задания на сборку
    description: Партнерская интеграция с Magnit Market по модели FBS. Задания на сборку
  - name: Magnit Market API - Отгрузка посылок
    description: Партнерская интеграция с Magnit Market по модели FBS. Отгрузка посылок

paths:
  /v1/oauth/token:
    post:
      deprecated: true
      tags:
        - Auth
      summary: Получение токена авторизации
      description: Поддержка будет прекращена 31 января 2025 года. Запросите новый токен 1 раз в 24 часа. Запрашивать токен перед каждым запросом к API-методам не требуется.
      requestBody:
        required: true
        description: Запрос на получение токена
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AuthRequest"
      responses:
        200:
          description: Успешная авторизация
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthSuccessResponse"
        400:
          $ref: "#/components/responses/BadRequestErrorResponse"
        401:
          $ref: "#/components/responses/UnauthorizedErrorResponse"
        500:
          $ref: "#/components/responses/InternalServerErrorResponse"
        503:
          $ref: "#/components/responses/UnavailableServerErrorResponse"

  /v2/oauth/token:
    post:
      tags:
        - Auth
      summary: Получение аутентификационного токена
      description: "Запросите новый токен 1 раз за 60 минут. Запрашивать токен перед каждым запросом к API-методам не требуется. Ссылка на полную спецификацию OAuth2 - https://tools.ietf.org/html/rfc6749"
      requestBody:
        $ref: "#/components/requestBodies/PostV2OauthTokenRequest"
      responses:
        200:
          $ref: "#/components/responses/PostV2OauthSuccessResponse"
        400:
          description: Ошибка в параметрах, в ответе список ошибок валидации
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OauthError"
        401:
          description: "Ошибка авторизации. В запросе не указан или указан несуществующий client_id"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OauthError"
        500:
          $ref: "#/components/responses/InternalServerErrorResponse"
        503:
          $ref: "#/components/responses/UnavailableServerErrorResponse"

  /v1/orders:
    post:
      tags:
        - Orders
      summary: Создание заказа
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/OrderRequest"
      responses:
        201:
          $ref: "#/components/responses/OrderCreateResponse"
        400:
          $ref: "#/components/responses/BadRequestErrorResponse"
        401:
          $ref: "#/components/responses/UnauthorizedErrorResponse"
        500:
          $ref: "#/components/responses/InternalServerErrorResponse"
        503:
          $ref: "#/components/responses/UnavailableServerErrorResponse"

  /v1/orders/{orderId}:
    get:
      tags:
        - Orders
      summary: Детальная информация о заказе
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: orderId
          required: true
          schema:
            type: string
          example: "PM-bB00000001"
          description: "Идентификатор заказа в системе Магнита"
      responses:
        200:
          $ref: "#/components/responses/OrderResponse"
        400:
          $ref: "#/components/responses/BadRequestErrorResponse"
        401:
          $ref: "#/components/responses/UnauthorizedErrorResponse"
        404:
          $ref: "#/components/responses/NotFoundErrorResponse"
        500:
          $ref: "#/components/responses/InternalServerErrorResponse"
        503:
          $ref: "#/components/responses/UnavailableServerErrorResponse"

  /v1/orders/{orderId}/cancel:
    post:
      tags:
        - Orders
      summary: Отмена заказа
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: orderId
          required: true
          schema:
            type: string
          example: "PM-bB00000001"
          description: "Идентификатор заказа в системе Магнита"
      requestBody:
        $ref: "#/components/requestBodies/OrderCancellationRequest"
      responses:
        200:
          description: Запрос принят.
        400:
          $ref: "#/components/responses/BadRequestErrorResponse"
        401:
          $ref: "#/components/responses/UnauthorizedErrorResponse"
        404:
          $ref: "#/components/responses/NotFoundErrorResponse"
        500:
          $ref: "#/components/responses/InternalServerErrorResponse"
        503:
          $ref: "#/components/responses/UnavailableServerErrorResponse"

  /v1/orders/{orderId}/status:
    put:
      tags:
        - Orders
      summary: Изменение статуса заказа
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: orderId
          required: true
          schema:
            type: string
          example: "PM-bB00000001"
          description: "Идентификатор заказа в системе Магнита"
      requestBody:
        $ref: "#/components/requestBodies/OrderChangeStatusRequest"
      responses:
        202:
          description: Запрос обновления заказа принят, но ещё не обработан.
        400:
          $ref: "#/components/responses/BadRequestErrorResponse"
        401:
          $ref: "#/components/responses/UnauthorizedErrorResponse"
        404:
          $ref: "#/components/responses/NotFoundErrorResponse"
        500:
          $ref: "#/components/responses/InternalServerErrorResponse"
        503:
          $ref: "#/components/responses/UnavailableServerErrorResponse"

    get:
      tags:
        - Orders
      summary: Получение статуса заказа
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: orderId
          required: true
          schema:
            type: string
          example: "PM-bB00000001"
          description: "Идентификатор заказа в системе Магнита"
      responses:
        200:
          $ref: "#/components/responses/OrderStatusResponse"
        400:
          $ref: "#/components/responses/BadRequestErrorResponse"
        401:
          $ref: "#/components/responses/UnauthorizedErrorResponse"
        404:
          $ref: "#/components/responses/NotFoundErrorResponse"
        500:
          $ref: "#/components/responses/InternalServerErrorResponse"
        503:
          $ref: "#/components/responses/UnavailableServerErrorResponse"

  /v1/orders/{orderId}/event:
    post:
      tags:
        - Order Events
      summary: События по заказам от Партнера
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: orderId
          required: true
          schema:
            type: string
          example: "PM-bB00000001"
          description: "Идентификатор заказа в системе Магнита"
      requestBody:
        $ref: "#/components/requestBodies/OrderNotificationRequest"
      responses:
        202:
          description: Запрос обновления заказа принят, но ещё не обработан.
        400:
          $ref: "#/components/responses/BadRequestErrorResponse"
        401:
          $ref: "#/components/responses/UnauthorizedErrorResponse"
        404:
          $ref: "#/components/responses/NotFoundErrorResponse"
        500:
          $ref: "#/components/responses/InternalServerErrorResponse"
        503:
          $ref: "#/components/responses/UnavailableServerErrorResponse"

  /v1/nomenclature/stores/{store_id}/prices:
    get:
      tags:
        - Nomenclature
      summary: "Информация по ценам товаров в ТО"
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: store_id
          required: true
          schema:
            type: string
          example: "123456"
          description: "Идентификатор ТО в системе Магнит"
      responses:
        200:
          $ref: "#/components/responses/StoresPricesResponse"
        400:
          $ref: "#/components/responses/BadRequestErrorResponseWithoutBody"
        401:
          $ref: "#/components/responses/UnauthorizedErrorResponseWithoutBody"
        403:
          $ref: "#/components/responses/ForbiddenErrorResponseWithoutBody"
        404:
          $ref: "#/components/responses/NotFoundErrorResponseWithoutBody"
        500:
          $ref: "#/components/responses/InternalServerErrorResponse"
        503:
          $ref: "#/components/responses/UnavailableServerErrorResponse"

  /v1/nomenclature/stores/{store_id}/stocks:
    get:
      tags:
        - Nomenclature
      summary: "Информация по остаткам товаров в ТО"
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: store_id
          required: true
          schema:
            type: string
          example: "123456"
          description: "Идентификатор ТО в системе Магнит"
      responses:
        200:
          $ref: "#/components/responses/StoresStocksResponse"
        400:
          $ref: "#/components/responses/BadRequestErrorResponseWithoutBody"
        401:
          $ref: "#/components/responses/UnauthorizedErrorResponseWithoutBody"
        403:
          $ref: "#/components/responses/ForbiddenErrorResponseWithoutBody"
        404:
          $ref: "#/components/responses/NotFoundErrorResponseWithoutBody"
        500:
          $ref: "#/components/responses/InternalServerErrorResponse"
        503:
          $ref: "#/components/responses/UnavailableServerErrorResponse"

  /v1/nomenclature/stores/{store_id}/stocks_delta:
    get:
      tags:
        - Nomenclature
      summary: "Информация по дельте остатков товара в ТО"
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: store_id
          required: true
          schema:
            type: string
          example: "123456"
          description: "Идентификатор ТО в системе Магнит"
        - in: query
          name: timestamp_from
          required: true
          schema:
            type: integer
          example: "1717577139"
          description: "Время с которого нужны изменения по остаткам в формате unix time в секундах"
      responses:
        200:
          $ref: "#/components/responses/StoresStocksResponse"
        400:
          $ref: "#/components/responses/BadRequestGoodStocksErrorResponse"
        401:
          $ref: "#/components/responses/UnauthorizedErrorResponseWithoutBody"
        403:
          $ref: "#/components/responses/ForbiddenErrorResponseWithoutBody"
        404:
          $ref: "#/components/responses/NotFoundErrorResponseWithoutBody"
        500:
          $ref: "#/components/responses/InternalServerErrorResponse"
        503:
          $ref: "#/components/responses/UnavailableServerErrorResponse"

  /:
    post:
      description: Базовый путь на стороне Партнера, на который будут отправляться различные уведомления от системы Магнит.
      summary: Получение событий от системы Магнит
      tags:
        - WebHookEvent
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Event"
            examples:
              Торговый объект заблокирован:
                value:
                  type: store_blocked
                  payload:
                    store_code: "012345"
                  created_at: 2023-12-31T00:00:00+03:00
              Торговый объект разблокирован:
                value:
                  type: store_unblocked
                  payload:
                    store_code: "012345"
                  created_at: 2023-12-31T00:00:00+03:00
              Обновление очереди сборки:
                value:
                  type: store_collect_queue_updated_v1
                  "payload":
                    {
                      "items":
                        [
                          {
                            "store_code": "000101",
                            "completed_at": "2023-12-31T00:00:00+03:00",
                            "updated_at": "2023-12-31T00:00:00+03:00",
                          },
                          {
                            "store_code": "000102",
                            "completed_at": "2023-12-31T00:00:00+03:00",
                            "updated_at": "2023-12-31T00:00:00+03:00",
                          },
                        ],
                    }
                  created_at: 2023-12-31T00:00:00+03:00
              Обновление статуса магазинов:
                value:
                  type: store_status_updated_v1
                  "payload":
                    {
                      "items":
                        [
                          {
                            "store_code": "012345",
                            "status": "store_blocked",
                            "updated_at": "2023-12-31T00:00:00+03:00",
                          },
                          {
                            "store_code": "123450",
                            "status": "store_unblocked",
                            "updated_at": "2023-12-31T00:00:00+03:00",
                          },
                        ],
                    }
                  created_at: 2023-12-31T00:00:00+03:00
        required: true
      responses:
        200:
          description: Запрос принят.
        400:
          description: Что-то не так в содержании запроса. Ориентируйтесь на описание ошибки, чтобы понять, что именно не так.
        401:
          description: В запросе не указан или указан несуществующий, истекший токен авторизации.
        404:
          description: Запрашиваемый ресурс не найден. Проверьте адреса запросов, по которым обращается система партнера.
        500:
          description: Внутренняя ошибка сервера Партнера. Такая ошибка через некоторое время исчезнет сама собой.
        503:
          description: Внутренняя ошибка сервера Партнера. Такая ошибка через некоторое время исчезнет сама собой.

  #magnit-market-seller-api-begin
  #magnit-market-seller-api-goods
  /seller/v1/categories:
    get:
      description: REST эндпоинт для получения списка активных категорий
      operationId: getActiveCategories
      responses:
        "200":
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ExternalSellerCategoryDto"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GenericResponse"
          description: Пример ошибочных ответов для всех http-статусов (не 2хх)
      security:
        - apiKeyAuth: []
          scopes:
            - mm:b2b:categories
            - mm:b2b:all
      summary: Получение списка категорий
      tags:
      - Magnit Market API - Категории
  /seller/v1/products/defined-characteristics:
    post:
      description: REST эндпоинт для получения списка характеристик
      operationId: getDefinedCharacteristics
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CategoryCharacteristicsRequest"
        required: true
      responses:
        "200":
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ExternalSellerCharacteristicsDto"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GenericResponse"
          description: Пример ошибочных ответов для всех http-статусов (не 2хх)
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:categories
        - mm:b2b:all
      summary: Получение списка характеристик
      tags:
      - Magnit Market API - Категории
  /seller/v1/products/dictionary:
    get:
      description: REST эндпоинт для получения списка словарей
      operationId: getDictionaryValues
      parameters:
      - description: Идентификатор справочника
        in: query
        name: dictionary_id
        required: true
        schema:
          type: integer
          format: int64
      - description: "Тип справочника (например, DEFINED, PRODUCT, SKU)"
        in: query
        name: type
        required: true
        schema:
          type: string
      - description: Поисковый запрос для фильтрации значений справочника
        in: query
        name: search
        required: false
        schema:
          type: string
          default: ""
      - description: Номер страницы для пагинации
        in: query
        name: page
        required: false
        schema:
          type: integer
          format: int32
          default: 0
      - description: Количество элементов на странице
        in: query
        name: page_size
        required: false
        schema:
          type: integer
          format: int32
          default: 10
      responses:
        "200":
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/DictionaryResponse"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GenericResponse"
          description: Пример ошибочных ответов для всех http-статусов (не 2хх)
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:categories
        - mm:b2b:all
      summary: Получение списка словарей
      tags:
      - Magnit Market API - Категории
  /seller/v1/products/sku:
    post:
      description: REST эндпоинт для создания списка СКУ
      operationId: createSku
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateSkuRequest"
        required: true
      responses:
        "200":
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/CreateSkuResponse"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GenericResponse"
          description: Пример ошибочных ответов для всех http-статусов (не 2хх)
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:products
        - mm:b2b:all
      summary: Создание СКУ
      tags:
      - Magnit Market API - Товары
  /seller/v1/products/sku/list:
    post:
      description: REST эндпоинт для получения списка СКУ
      operationId: getSkuList
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SkuListRequest"
        required: true
      responses:
        "200":
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/SkuListResponse"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GenericResponse"
          description: Пример ошибочных ответов для всех http-статусов (не 2хх)
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:products
        - mm:b2b:all
      summary: Получение списка СКУ
      tags:
      - Magnit Market API - Товары
  /seller/v1/products/sku/price:
    post:
      description: REST эндпоинт для обновления цен
      operationId: update
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PricesRequest"
        required: true
      responses:
        "200":
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/SkuInfoResponsePriceUpdateResponse"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GenericResponse"
          description: Пример ошибочных ответов для всех http-статусов (не 2хх)
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:prices
        - mm:b2b:all
      summary: Обновление цен
      tags:
      - Magnit Market API - Цены
  /seller/v1/products/sku/price/info:
    post:
      description: REST эндпоинт для получения данных по ценам
      operationId: getPriceInfo
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SkuInfoRequest"
        required: true
      responses:
        "200":
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/SkuInfoResponsePriceInfoResponse"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GenericResponse"
          description: Пример ошибочных ответов для всех http-статусов (не 2хх)
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:prices
        - mm:b2b:all
      summary: Получение данных по ценам
      tags:
      - Magnit Market API - Цены
  /seller/v1/products/sku/shops/{shop_id}/short/list:
    post:
      description: REST эндпоинт для получения списка СКУ с основной информацией по
        СКУ
      operationId: getShortSkuInfoList
      parameters:
      - description: Идентификатор магазина
        in: path
        name: shop_id
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ShortSkuInfoRequest"
        required: true
      responses:
        "200":
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/ShortSkuInfoResponse"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GenericResponse"
          description: Пример ошибочных ответов для всех http-статусов (не 2хх)
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:products
        - mm:b2b:all
      summary: Получение списка СКУ с основной информацией
      tags:
      - Magnit Market API - Товары
  /seller/v1/products/sku/shops/{shop_id}/sku/archive:
    post:
      description: REST эндпоинт для архивации списка СКУ
      operationId: archiveSkuList
      parameters:
      - description: Идентификатор магазина
        in: path
        name: shop_id
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SkuArchiveRequest"
        required: true
      responses:
        "200":
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/SkuInfoResponseSkuArchiveResponse"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GenericResponse"
          description: Пример ошибочных ответов для всех http-статусов (не 2хх)
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:products
        - mm:b2b:all
      summary: Архивация СКУ
      tags:
      - Magnit Market API - Товары
  /seller/v1/products/sku/shops/{shop_id}/sku/delete:
    post:
      description: REST эндпоинт для удаления продукта
      operationId: deleteProduct
      parameters:
      - description: Идентификатор магазина
        in: path
        name: shop_id
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ProductDeleteRequest"
        required: true
      responses:
        "200":
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/SkuInfoResponseProductDeleteResponse"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GenericResponse"
          description: Пример ошибочных ответов для всех http-статусов (не 2хх)
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:products
        - mm:b2b:all
      summary: Удаление продукта
      tags:
      - Magnit Market API - Товары
  /seller/v1/products/sku/shops/{shop_id}/sku/unarchive:
    post:
      description: REST эндпоинт для разархивации списка СКУ
      operationId: recoverSkuList
      parameters:
      - description: Идентификатор магазина
        in: path
        name: shop_id
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SkuArchiveRequest"
        required: true
      responses:
        "200":
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/SkuInfoResponseSkuArchiveResponse"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GenericResponse"
          description: Пример ошибочных ответов для всех http-статусов (не 2хх)
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:products
        - mm:b2b:all
      summary: Разархивация СКУ
      tags:
      - Magnit Market API - Товары
  /seller/v1/products/sku/shops/{shop_id}/sku/update:
    post:
      description: REST эндпоинт для обновления списка СКУ
      operationId: updateSku
      parameters:
      - in: path
        name: shop_id
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateSkuRequest"
        required: true
      responses:
        "200":
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/CreateSkuResponse"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GenericResponse"
          description: Пример ошибочных ответов для всех http-статусов (не 2хх)
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:products
        - mm:b2b:all
      summary: Обновление СКУ
      tags:
      - Magnit Market API - Товары
  /seller/v1/products/sku/stocks:
    post:
      description: REST эндпоинт для обновления остатков
      operationId: updateStocks
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/StockRequest"
        required: true
      responses:
        "200":
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GenericResponse"
          description: Пример ошибочных ответов для всех http-статусов (не 2хх)
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:stocks
        - mm:b2b:all
      summary: Обновление остатков
      tags:
      - Magnit Market API - Остатки
  /seller/v1/products/sku/stocks/info:
    post:
      description: REST эндпоинт для получения информации об остатках
      operationId: getStocksInfo
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SkuInfoRequest"
        required: true
      responses:
        "200":
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/SkuInfoResponseStockInfoResponse"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GenericResponse"
          description: Пример ошибочных ответов для всех http-статусов (не 2хх)
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:stocks
        - mm:b2b:all
      summary: Получение информации об остатках
      tags:
      - Magnit Market API - Остатки
  /seller/v1/products/sku/tasks/{task_id}/status:
    get:
      description: REST эндпоинт для получения статуса задачи создания СКУ
      operationId: getTaskStatus
      parameters:
      - description: Идентификатор задачи создания СКУ
        in: path
        name: task_id
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/TaskStatusResponse"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GenericResponse"
          description: Пример ошибочных ответов для всех http-статусов (не 2хх)
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:products
        - mm:b2b:all
      summary: Получение статуса задачи создания СКУ
      tags:
      - Magnit Market API - Товары
  /seller/v1/shops:
    get:
      description: REST эндпоинт для получения списка активных магазинов
      operationId: getShops
      responses:
        "200":
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ShopDto"
          description: OK
        "400":
          content:
            application/json:
              schema:
                type: string
          description: Пример ошибочных ответов для всех http-статусов (не 2хх)
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:shops
        - mm:b2b:all
      summary: Получение списка магазинов
      tags:
      - Magnit Market API - Магазины
  #magnit-market-seller-api-lms
  /seller/v1/orders/list/unprocessed:
    post:
      operationId: ordersUnprocessedMarket
      tags:
        - Magnit Market API - Задания на сборку
      summary: Список необработанных заданий на сборку
      description: >
        Возвращает список необработанных заданий на сборку за указанный период
        времени.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceOrdersUnprocessedRequest'
        required: true
      responses:
        '200':
          description: Список заданий на сборку
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceOrdersUnprocessedResponse'
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  /seller/v1/orders/list:
    post:
      operationId: ordersListMarket
      tags:
        - Magnit Market API - Задания на сборку
      summary: Список заданий на сборку
      description: |
        Возвращает список заданий на сборку за указанный период времени.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceOrdersListRequest'
        required: true
      responses:
        '200':
          description: Список заданий на сборку
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceOrdersListResponse'
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  /seller/v1/orders/cancel-items:
    post:
      operationId: ordersCancelItemsMarket
      tags:
        - Magnit Market API - Задания на сборку
      summary: Отмена части товаров
      description: |
        Отменяемый товар не должен быть распределен по посылкам.

        ⚠️ Это действие нельзя отменить.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceOrderCancelItemsRequest'
        required: true
      responses:
        '200':
          description: Актуальные информация о задании на сборку
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceOrderCancelItemsResponse'
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  /seller/v1/orders/cancel:
    post:
      operationId: ordersCancelMarket
      tags:
        - Magnit Market API - Задания на сборку
      summary: Отмена задания на сборку
      description: |
        ⚠️ Задание может быть отменено, до перевода в статус `ASSEMBLED`.

        ⚠️ Это действие нельзя отменить.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceOrderCancelRequest'
        required: true
      responses:
        '200':
          description: Запрос успешно выполнен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceOrderCancelResponse'
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  /seller/v1/orders/complete:
    post:
      operationId: ordersCompleteMarket
      tags:
        - Magnit Market API - Задания на сборку
      summary: Подтверждение сборки
      description: >
        Необходимо вызвать этот метод, чтобы посылки можно было добавить в
        отгрузку
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceOrderCompleteRequest'
        required: true
      responses:
        '200':
          description: Список посылок
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceOrderCompleteResponse'
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  /seller/v1/orders/parcels:
    post:
      operationId: ordersParcelsMarket
      tags:
        - Magnit Market API - Задания на сборку
      summary: Передать разбиение на посылки
      description: |
        Позволяет передать разбиение всего задания на посылки.
        Метод можно использовать если задания на сборку находится в статус `NEW`
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceOrderParcelsRequest'
        required: true
      responses:
        '200':
          description: Посылки и их идентификаторы
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceOrderParcelsResponse'
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  /seller/v1/parcels/list:
    post:
      operationId: parcelsListMarket
      tags:
        - Magnit Market API - Задания на сборку
      summary: Список посылок
      description: |
        Возвращает список посылок за указанный период времени.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceParcelsListRequest'
      responses:
        '200':
          description: Список посылок
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceParcelsListResponse'
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  /seller/v1/parcels/set-marking:
    post:
      operationId: parcelsMarkingMarket
      tags:
        - Magnit Market API - Задания на сборку
      summary: Передать маркировку товаров внутри посылки
      description: >
        Передать маркировку можно до подтверждения сборки задания.


        ⚠️ Маркетплейс не производит проверку и вывод марок из оборота.


        ⚠️ Необходимо передавать маркировку сразу на все единицы товара (т.е.
        равным quantity этого товара в посылке).
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceParcelsAddMarkingRequest'
      responses:
        '200':
          description: Запрос успешно выполнен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceParcelsAddMarkingResponse'
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  /seller/v1/parcels/get-labels:
    post:
      operationId: parcelsGetLabelsMarket
      tags:
        - Magnit Market API - Задания на сборку
      summary: Получить этикетки для посылок
      description: |
        Метод возвращает этикетки для посылок в виде одного файла
      parameters:
        - $ref: '#/components/parameters/MarketplaceDocumentAccept'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceParcelsLabelsRequest'
      responses:
        '200':
          description: Запрос успешно выполнен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceParcelsLabelsResponse'
            application/pdf:
              schema:
                type: string
                format: binary
                example: |-
                  %PDF-1.3
                  3 0 obj
                  ...
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  /seller/v1/parcels/cancel:
    post:
      operationId: parcelsCancelMarket
      tags:
        - Magnit Market API - Задания на сборку
      summary: Отменить посылку вместе с товарами
      description: >
        Метод позволяет отменить собранную посылку. При этом также отменяются
        товары, находящиеся в ней.

         ⚠️ Это действие нельзя отменить.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceParcelsCancelRequest'
      responses:
        '200':
          description: Посылка успешно отменена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceParcelsCancelResponse'
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  /seller/v1/parcels/create:
    post:
      operationId: parcelsCreateMarket
      tags:
        - Magnit Market API - Задания на сборку
      summary: Создание посылки
      description: |
        Метод позволяет передать состав одной посылки.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceParcelsCreateRequest'
      responses:
        '200':
          description: Посылка успешно создана
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceParcelsCreateResponse'
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  /seller/v1/parcels/unpack:
    post:
      operationId: parcelsUnpackMarket
      tags:
        - Magnit Market API - Задания на сборку
      summary: Удаляет посылку
      description: >
        Метод позволяет удалить посылку. Для этого посылка должна находиться в
        статусе `NEW`.


        Товары из удаляемой посылки можно распределить повторно.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceParcelsUnpackRequest'
      responses:
        '200':
          description: Посылка успешно удалена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceParcelsUnpackResponse'
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  /seller/v1/shipments/list:
    post:
      operationId: shipmentsListMarket
      tags:
        - Magnit Market API - Отгрузка посылок
      summary: Список отгрузок
      description: |
        Возвращает список отгрузок за указанный период времени.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceShipmentListRequest'
      responses:
        '200':
          description: Список отгрузок
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceShipmentListResponse'
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  /seller/v1/shipments/add-parcels:
    post:
      operationId: shipmentsAddParcelsMarket
      tags:
        - Magnit Market API - Отгрузка посылок
      summary: Добавить посылки к отгрузке
      description: |
        Добавляет посылки к формируемой отгрузке.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceShipmentAddParcelsRequest'
        required: true
      responses:
        '200':
          description: Актуальный состав отгрузки
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceShipmentAddParcelsResponse'
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  /seller/v1/shipments/remove-parcels:
    post:
      operationId: shipmentsRemoveParcelsMarket
      tags:
        - Magnit Market API - Отгрузка посылок
      summary: Удалить посылки из отгрузки
      description: |
        Удаляет посылки из формируемой отгрузки.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceShipmentRemoveParcelsRequest'
        required: true
      responses:
        '200':
          description: Актуальный состав отгрузки
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceShipmentRemoveParcelsResponse'
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  /seller/v1/shipments/confirm:
    post:
      operationId: shipmentsConfirmMarket
      tags:
        - Magnit Market API - Отгрузка посылок
      summary: Подтвердить отгрузку
      description: |
        Завершить формирование отгрузки.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceShipmentsConfirmRequest'
        required: true
      responses:
        '200':
          description: Состав отгрузки
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceShipmentsConfirmResponse'
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  /seller/v1/shipments/cancel:
    post:
      operationId: shipmentsCancelMarket
      tags:
        - Magnit Market API - Отгрузка посылок
      summary: Отменить отгрузку
      description: >
        Отменяет отгрузку. Отменить отгрузку можно только на статусе
        `CONFIRMED`
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceShipmentsCancelRequest'
        required: true
      responses:
        '200':
          description: Состав отгрузки
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceShipmentsCancelResponse'
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  /seller/v1/shipments/get-documents:
    post:
      operationId: shipmentsGetDocumentsMarket
      tags:
        - Magnit Market API - Отгрузка посылок
      summary: Получить документы по отгрузке
      description: |
        Возвращает выбранный документ для отгрузки
      parameters:
        - $ref: '#/components/parameters/MarketplaceDocumentAccept'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarketplaceShipmentGetDocumentsRequest'
      responses:
        '200':
          description: Документ по отгрузке
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketplaceShipmentGetDocumentsResponse'
            application/pdf:
              schema:
                type: string
                format: binary
                example: |-
                  %PDF-1.3
                  3 0 obj
                  ...
        '400':
          $ref: '#/components/responses/Marketplace400'
        '403':
          $ref: '#/components/responses/Marketplace403'
        '404':
          $ref: '#/components/responses/Marketplace404'
        '500':
          $ref: '#/components/responses/Marketplace500'
      security:
      - apiKeyAuth: []
        scopes:
        - mm:b2b:orders-processing
        - mm:b2b:all
  #magnit-market-seller-api-end
components:
  securitySchemes:
    bearerAuth: # arbitrary name for the security scheme
      type: http
      scheme: bearer
      bearerFormat: JWT # optional, arbitrary value for documentation purposes
    apiKeyAuth:
      type: apiKey
      in: header
      name: x-api-key

  parameters:
    MarketplaceDocumentAccept:
      name: Accept
      in: header
      description: |
        Выбранный формат получения ответа (по умолчанию `application/json`)
      required: false
      schema:
        type: string
        default: application/json
        enum:
          - application/json
          - application/pdf

  schemas:
    StoresPricesItemsV1:
      required:
        - items
      type: object
      properties:
        items:
          type: array
          items:
            $ref: "#/components/schemas/StoresPricesItemV1"

    StoresPricesItemV1:
      required:
        - good_id
        - base
      type: object
      properties:
        good_id:
          type: string
          example: "13234864"
          description: "Идентификатор товара в системе Магнит"
        base:
          $ref: "#/components/schemas/StoresBasePriceV1"
        action:
          $ref: "#/components/schemas/StoresActionPriceV1"

    StoresBasePriceV1:
      required:
        - value
        - currency
      description: "Базовая цена товара"
      properties:
        value:
          type: integer
          description: "Цена в копейках"
          example: 29999
        currency:
          $ref: "#/components/schemas/CurrencyEnum"

    StoresActionPriceV1:
      required:
        - value
        - currency
        - finished_at
      description: "Акционная цена товара"
      properties:
        value:
          type: integer
          description: "Цена в копейках"
          example: 29999
        currency:
          $ref: "#/components/schemas/CurrencyEnum"
        started_at:
          type: string
          description: "Дата начала действия акционной цены в формате RFC3399"
          example: "2023-12-01T00:00:00+03:00"
        finished_at:
          type: string
          description: "Дата окончания действия акционной цены в формате RFC3399"
          example: "2023-12-30T00:00:00+03:00"

    StoresStocksItemsV1:
      required:
        - timestamp
        - items
      type: object
      properties:
        timestamp:
          type: integer
          description: "Дата запроса информации об остатках в unix time в секундах"
          example: 1717590140
        items:
          type: array
          items:
            $ref: "#/components/schemas/StoresStockItemV1"

    StoresStockItemV1:
      required:
        - good_id
        - quantity
      type: object
      properties:
        good_id:
          type: string
          description: "Идентификатор товара в системе Магнит"
          example: "123456"
        quantity:
          type: number
          description: "Остаток товара по товарной позиции в штуках. Для весового товара вес передается в килограммах"
          example: 500

    Event:
      required:
        - type
        - created_at
      type: object
      properties:
        type:
          $ref: "#/components/schemas/EventEnum"
        payload:
          oneOf:
            - $ref: "#/components/schemas/StoreBlockedEvent"
            - $ref: "#/components/schemas/StoreUnblockedEvent"
            - $ref: "#/components/schemas/StoreStatusUpdatedV1"
            - $ref: "#/components/schemas/StoreCollectQueueUpdatedV1"
        created_at:
          type: string
          title: Время возникновения события
          description: "Время возникновения события в RFC3339 с указанием часового пояса"
          example: "2023-12-31T00:00:00+03:00"

    EventEnum:
      type: string
      description: Тип события
      enum:
        - "store_blocked"
        - "store_unblocked"
        - "store_collect_queue_updated_v1"
        - "store_status_updated_v1"

    StoreStatusUpdatedV1:
      title: Набор актуальных статусов магазинов
      description: Магазины изменили статус работы
      type: object
      required:
        - items
      properties:
        items:
          $ref: "#/components/schemas/StoreStatusUpdatedItemV1"

    StoreStatusUpdatedItemV1:
      title: Обновление статуса магазина
      description: Магазин изменил статус работы
      type: object
      required:
        - store_code
        - status
      properties:
        store_code:
          type: string
          example: "012345"
          description: "Идентификатор магазина в системе Магнит."
        status:
          $ref: "#/components/schemas/StoreStatusEnum"
        updated_at:
          $ref: "#/components/schemas/Datetime"

    Datetime:
      type: string
      description: "Дата в формате RFC3339 с указанием часового пояса"
      example: "2023-12-31T00:00:00+03:00"

    StoreStatusEnum:
      type: string
      description: Статус магазина
      enum:
        - "store_blocked"
        - "store_unblocked"

    StoreBlockedEvent:
      title: Магазин заблокирован
      description: Событие блокировки магазина
      type: object
      required:
        - store_code
      properties:
        store_code:
          type: string
          example: "123456"
          description: "Идентификатор магазина в системе Магнит."

    StoreUnblockedEvent:
      title: Магазин разблокирован
      description: Событие разблокировки магазина
      type: object
      required:
        - store_code
      properties:
        store_code:
          type: string
          example: "123456"
          description: "Идентификатор магазина в системе Магнит."

    StoreBlockingReasonEnum:
      type: string
      description: Причина блокировки магазина в системе Магнит
      enum:
        - "REVISION"
        - "TECHNICAL_PROBLEMS"
        - "TOO_BUSY"

    AuthRequest:
      required:
        - client_id
        - client_secret
      type: object
      properties:
        client_id:
          type: string
          description: Идентификатор партнера. Выдается по запросу
        client_secret:
          type: string
          description: Секретный ключ партнера. Выдается по запросу

    AuthSuccessResponse:
      description: "Успешная авторизация"
      required:
        - access_token
        - expires_in
      type: object
      properties:
        access_token:
          type: string
          description: Токен доступа
        expires_in:
          type: string
          description: Время истечения токена Unix Timestamp
        created_at:
          type: string
          description: Время создания токена Unix Timestamp, если текущий токен еще не истек

    OrderRequest:
      type: object
      required:
        - original_order_id
        - store_code
        - customer
        - collect
        - price
        - cart
      properties:
        original_order_id:
          type: string
          description: "Идентификатор заказа в системе партнера"
        store_code:
          type: string
          example: "123456"
          description: "Идентификатор магазина в системе Магнит. Используется для отправки заказа на сборку"
        customer:
          $ref: "#/components/schemas/Customer"
        delivery:
          oneOf:
            - $ref: "#/components/schemas/DeliveryPartner"
            - $ref: "#/components/schemas/DeliveryMagnit"
        collect:
          $ref: "#/components/schemas/Collect"
        cart:
          $ref: "#/components/schemas/CartRequest"
        price:
          $ref: "#/components/schemas/OrderPrice"
        comment:
          type: string
          description: "До 1000 символов"

    Order:
      type: object
      required:
        - original_order_id
        - store_code
        - status
        - cart
        - price
      properties:
        original_order_id:
          type: string
          description: "Идентификатор заказа в системе партнера"
        store_code:
          type: string
          example: "123456"
          description: "Идентификатор магазина в системе Магнит. Используется для отправки заказа на сборку"
        status:
          $ref: "#/components/schemas/OrderStatus"
        cart:
          $ref: "#/components/schemas/Cart"
        collect:
          $ref: "#/components/schemas/OrderCollect"
        price:
          $ref: "#/components/schemas/OrderPrice"
        comment:
          type: string
          description: "До 1000 символов"

    OrderStatusResponse:
      type: object
      required:
        - status
      properties:
        status:
          $ref: "#/components/schemas/OrderStatus"

    OrderStatus:
      type: object
      required:
        - code
        - updated_at
      properties:
        code:
          $ref: "#/components/schemas/OrderStatusEnum"
        reason:
          $ref: "#/components/schemas/OrderCancellationReasonEnum"
        updated_at:
          type: string
          description: "Дата последнего обновления статуса в RFC3339 с указанием часового пояса"
          example: "2023-12-31T00:00:00+03:00"

    OrderChangeStatus:
      type: object
      required:
        - code
        - updated_at
      properties:
        code:
          $ref: "#/components/schemas/OrderStatusEnum"
        updated_at:
          type: string
          description: "Дата последнего обновления статуса в RFC3339 с указанием часового пояса"
          example: "2023-12-31T00:00:00+03:00"

    OrderChangeRequestStatus:
      type: object
      required:
        - code
        - updated_at
      properties:
        code:
          $ref: "#/components/schemas/OrderChangeStatusRequestEnum"
        updated_at:
          type: string
          description: "Дата последнего обновления статуса в RFC3339 с указанием часового пояса"
          example: "2023-12-31T00:00:00+03:00"

    OrderPaymentStatus:
      type: string
      enum:
        - NOT_PAID
        - PAID

    OrderPaymentType:
      type: string
      enum:
        - PREPAID
        - POSTPAID

    OrderPaymentMethod:
      type: string
      enum:
        - CASH_ON_DELIVERY
        - CARD_ON_DELIVERY
        - SBP
        - EXTERNAL_CERTIFICATE

    Comments:
      type: object
      properties:
        customerComment:
          type: string
          description: Комментарий покупателя
        vendorComment:
          type: string
          description: Комментарий поставщика, например код

    Customer:
      description: "Информация о клиенте. Используется сборщиком для согласования замен"
      type: object
      required:
        - phone
        - name
      properties:
        name:
          type: string
          description: "Имя клиента в сервисе партнера. Используется для обращений к клиенту"
          example: "Иванов Иван Иванович"
        phone:
          type: string
          description: "Номер телефона для связи с клиентом в международном формате. Состоит из частей +<код страны><номер>. Используется для связи сборщика с клиентом и согласования замен."
          example: "+79031111111 или +74652516489 доб. 123456 или 84652516489 доб. 123456"

    Delivery:
      description: "Информация о доставке."
      type: object
      properties:
        time_slot:
          $ref: "#/components/schemas/DeliveryTimeSlot"
    DeliveryStatus:
      type: string
      enum:
        - in_progress
        - delivered

    DeliveryPartner:
      type: object
      description: "Доставка курьерами партнера"
      properties:
        time_slot:
          $ref: "#/components/schemas/DeliveryTimeSlot"

    DeliveryMagnit:
      type: object
      description: "Доставка курьерами Магнита"
      required:
        - address
        - price
        - coordinates
      properties:
        time_slot:
          $ref: "#/components/schemas/DeliveryTimeSlot"
        price:
          $ref: "#/components/schemas/DeliveryPrice"
        coordinates:
          $ref: "#/components/schemas/DeliveryCoordinates"
        address:
          $ref: "#/components/schemas/DeliveryAddress"

    DeliveryPrice:
      type: object
      description: "Стоимость доставки"
      required:
        - base
      properties:
        base:
          $ref: "#/components/schemas/DeliveryBasePrice"
    DeliveryTime:
      type: object
      required:
        - expected_datetime
      properties:
        expected_datetime:
          type: string
          description: "Ожидаемая клиентом дата доставки в RFC3339 с указанием часового пояса"
          example: "2023-12-31T00:00:00+03:00"

    DeliveryCoordinates:
      type: object
      required:
        - lat
        - lng
      properties:
        lat:
          type: number
          description: "Координата широты куда необходимо доставить заказ"
          example: 55.878315
        lng:
          type: number
          description: "Координата долготы куда необходимо доставить заказ"
          example: 37.65372

    DeliveryAddress:
      type: object
      required:
        - city
        - building
      properties:
        city:
          type: string
          description: "Город, максимальная длина строки 100 символов"
          example: "Москва"
        street:
          type: string
          description: "Улица, максимальная длина строки 100 символов"
          example: "Сухонская"
        building:
          type: string
          description: "Номер дома, максимальная длина строки 10 символов"
          example: "11"
        entrance:
          type: string
          description: "Подъезд, максимальная длина строки 10 символов"
          example: "1"
        floor:
          type: string
          description: "Этаж, максимальная длина строки 10 символов"
          example: "2"
        flat:
          type: string
          description: "Квартира, максимальная длина строки 10 символов"
          example: "202"
        intercom:
          type: string
          description: "Домофон, максимальная длина строки 100 символов"
          example: "202"
        full:
          type: string
          description: "Полный адрес, максимальная длина строки 255 символов"
          example: "Москва, ул. Сухонская, д.11, кв. 202"

    DeliveryTimeSlot:
      type: object
      required:
        - from
        - to
      properties:
        from:
          type: string
          description: "Ожидаемая клиентом начальная дата-время доставки в RFC3339 с указанием часового пояса"
          example: "2023-12-31T09:00:00+03:00"
        to:
          type: string
          description: "Ожидаемая клиентом конечная дата-время доставки в RFC3339 с указанием часового пояса"
          example: "2023-12-31T10:00:00+03:00"

    DeliveryType:
      description: "Тип доставки заказа. Используется для маршрутизации заказа."
      type: string
      enum:
        - PICKUP
        - COURIER

    IssueOrderCreateResponse:
      description: "Раздел выдачи при создании заказа. Код выдачи заказов включается для партнеров по запросу."
      type: object
      required:
        - strategy
      properties:
        strategy:
          $ref: "#/components/schemas/IssueStrategyEnum"
        payload:
          oneOf:
            - $ref: "#/components/schemas/IssuePayloadEacTakerToCollect"

    IssuePayloadEacTakerToCollect:
      description: "Полезная нагрузка при получении заказа по коду выдачи"
      type: object
      required:
        - eac
      properties:
        eac:
          $ref: "#/components/schemas/EAC"

    EAC:
      description: "ЭАПП - Электронный акт-приёма передачи, код выдачи"
      type: object
      required:
        - code
      properties:
        code:
          type: string
          description: Код подтверждения ЭАПП (для типа taker_to_collect)

    Collect:
      description: "Информация о сборке."
      type: object
      required:
        - strategy
      properties:
        strategy:
          $ref: "#/components/schemas/CollectReplacementStrategyEnum"
        desired_at:
          description: "Желаемое время сборки заказа в RFC3339 с указанием часового пояса"
          type: string
          example: "2023-12-31T10:00:00+03:00"

    OrderCollect:
      description: "Информация о сборке заказа после его создания."
      type: object
      properties:
        expected_at:
          type: string
          description: "Дата ожидаемой сборки заказа в RFC3339 с указанием часового пояса"
          example: "2023-12-31T00:00:00+03:00"

    CollectTypeEnum:
      type: string
      enum:
        - MAGNIT
        - PARTNER

    CollectReplacementStrategyEnum:
      description: "call_to_customer - всегда звонить клиенту для согласования"
      type: string
      enum:
        - call_to_customer

    Promo:
      type: object
      required:
        - type
        - value
      properties:
        type:
          $ref: "#/components/schemas/PromoTypeEnum"
        name:
          type: string
          example: "Первый заказ"
        value:
          type: string
          example: "10, SORRYCODE"

    PromoTypeEnum:
      type: string
      enum:
        - "PROMOCODE"
        - "PENSIONER"
        - "EXAMPLE"

    Payment:
      type: object
      properties:
        status:
          type: string
          example: "paid"

    OrderPrice:
      description: "Сумма заказа"
      type: object
      required:
        - total
      properties:
        total:
          $ref: "#/components/schemas/OrderTotalPrice"

    CartRequest:
      description: "Корзина заказа"
      type: object
      required:
        - items
      properties:
        items:
          type: array
          items:
            $ref: "#/components/schemas/CartItemRequest"

    Cart:
      description: "Корзина заказа"
      type: object
      required:
        - items
      properties:
        items:
          type: array
          items:
            $ref: "#/components/schemas/CartItem"

    CartItemRequest:
      type: object
      required:
        - good_id
        - name
        - unit
        - qnty
        - price
      properties:
        good_id:
          description: "Артикул товара в системе Магнит"
          type: string
          example: "0000000000"
        name:
          description: "Название товара в системе партнера"
          type: string
          example: "Огурцы"
        qnty:
          description: "Количество товара в граммах для весовых или в штуках для штучных"
          type: integer
          example: 1500
        price:
          $ref: "#/components/schemas/ProductPrice"
        unit:
          $ref: "#/components/schemas/UnitEnum"

    CartItem:
      type: object
      required:
        - good_id
        - name
        - unit
        - qnty
        - price
      properties:
        good_id:
          description: "Артикул товара в системе Магнит"
          type: string
          example: "0000000000"
        name:
          description: "Название товара в системе партнера"
          type: string
          example: "Огурцы"
        qnty:
          description: "Количество товара в граммах для весовых или в штуках для штучных"
          type: integer
          example: 1500
        price:
          $ref: "#/components/schemas/ProductPrice"
        unit:
          $ref: "#/components/schemas/UnitEnum"
        marking:
          description: "Информация о маркировке единиц товара."
          type: array
          items:
            $ref: "#/components/schemas/Marking"

    DeliveryBasePrice:
      type: object
      description: "Стоимость доставки без скидок"
      required:
        - value
      properties:
        value:
          type: integer
          example: "10000"
          description: "Стоимость в копейках"

    BasePrice:
      type: object
      required:
        - value
      properties:
        value:
          type: integer
          example: "10000"
          description: "Стоимость в копейках"

    OrderTotalPrice:
      description: Полная стоимость заказа в копейках. Сколько денег будет списано с клиента за заказ.
      allOf:
        - $ref: "#/components/schemas/BasePrice"

    ProductPrice:
      description: "Стоимость одной позиции, включая скидки, если они есть"
      type: object
      required:
        - original
      properties:
        original:
          $ref: "#/components/schemas/BasePrice"

    TaxTypeEnum:
      type: string
      description: "Ставка НДС"
      enum:
        - "no_vat"
        - "vat_0"
        - "vat_10"
        - "vat_20"
        - "vat_10/110"
        - "vat_20/120"

    CurrencyEnum:
      description: "Валюта"
      type: string
      enum:
        - "RUB"

    VatEnum:
      type: string
      enum:
        - "NO_VAT"
        - "VAT_0"
        - "VAT_10_110"
        - "VAT_20_120"
        - "VAT_18_118"

    ErrorCodeEnum:
      type: string
      enum:
        - "SOME_ERROR"
        - "FORBIDDEN"
        - "ORDER_NOT_FOUND"
        - "INTERNAL_ERROR"
        - "ARTICLE_NOT_FOUND"

    UnitEnum:
      description: "Размерность товара, весовой или штучный"
      type: string
      enum:
        - "weight"
        - "apiece"

    OrderStatusEnum:
      type: string
      enum:
        - "order_created"
        - "order_on_work"
        - "order_ready"
        - "order_issued"
        - "order_delivered"
        - "order_cancelled"
        - "order_client_refused"

    OrderChangeStatusRequestEnum:
      type: string
      enum:
        - "order_delivered"

    OrderNotificationTypeEnum:
      type: string
      enum:
        - "order_paid"
        - "order_ready_to_pick_up"
        - "order_picked_up"

    Stores:
      type: object
      properties:
        stores:
          type: array
          items:
            $ref: "#/components/schemas/Store"

    Store:
      type: object
      properties:
        name:
          type: string
        code:
          type: string
        flags:
          $ref: "#/components/schemas/StoreFlags"

    StoreFlags:
      type: object
      properties:
        alcohol:
          type: boolean
        pickup:
          type: boolean

    ProductReplacement:
      type: object
      required:
        - old_article
        - new_article
      properties:
        old_article:
          type: string
        new_article:
          type: string
          description: артикул

    Marking:
      required:
        - qnty
        - cis
      type: object
      properties:
        qnty:
          type: integer
          description: "Количество товара в штуках или граммах, если товар весовой"
        cis:
          type: string
          description: "Код «Честного знака» без криптохвоста."
          example: '0104603731968500215jMa!Q\\u001d93rh1e'
        request:
          $ref: "#/components/schemas/MarkingRequest"

    MarkingRequest:
      description: "Объект запроса валидации марки"
      properties:
        id:
          type: string
          description: Уникальный идентификатор запроса валидации марки
          example: "4cd5d966-000a-00aa-aaa0-58f392fb380e"
        timestamp:
          type: number
          description: Дата и время по UTC с точностью до миллисекунд формирования запроса валидации марки.
          example: 1714112888596

    OrderChangeStatusRequest:
      type: object
      required:
        - status
      properties:
        status:
          $ref: "#/components/schemas/OrderChangeRequestStatus"

    OrderCancellationReasonEnum:
      description: "Причина отмены заказа"
      type: string
      enum:
        - "test"
        - "customer_no_product_needed"
        - "customer_delivery_too_expensive"
        - "customer_impossible_order_change"
        - "customer_no_reason"
        - "assembly_is_late"
        - "assembly_no_reason"
        - "delivery_is_late"
        - "delivery_no_courier"
        - "payment_not_passed"
        - "order_not_picked_up"
        - "delivery_order_mixed"
        - "delivery_courier_fault"
        - "fraud"
        - "other"

    VerifyEACRequest:
      type: object
      required:
        - code
      properties:
        code:
          type: string

    VerifyEACResponse:
      type: object
      properties:
        result:
          $ref: "#/components/schemas/VerifyEACResult"

    VerifyEACResult:
      type: object
      properties:
        verificationResult:
          $ref: "#/components/schemas/VerifyEACStatusEnum"
        attemptsLeft:
          type: integer
          description: Попыток осталось

    VerifyEACStatusEnum:
      type: string
      enum:
        - "ACCEPTED"
        - "REJECTED"
        - "NEED_UPDATE"

    EACStrategyEnum:
      type: string
      enum:
        - "taker_to_collect"

    IssueStrategyEnum:
      type: string
      enum:
        - "eac_taker_to_collect"

    OrderCreateResponse:
      description: Успешное создание заказа
      type: object
      required:
        - original_order_id
        - id
      properties:
        original_order_id:
          type: string
          description: Идентификатор заказа на стороне партнера
        id:
          type: string
          description: Идентификатор заказа в системе Магнита
        issue:
          $ref: "#/components/schemas/IssueOrderCreateResponse"

    ErrorResponse:
      type: object
      required:
        - code
        - message
      properties:
        code:
          $ref: "#/components/schemas/ErrorCodeEnum"
        message:
          type: string
          description: Текст ошибки

    StoreCollectQueueUpdatedV1:
      title: Изменение очереди сборки магазинов
      description: Магазины изменили очередь сборки заказов
      type: object
      required:
        - items
      properties:
        items:
          $ref: "#/components/schemas/StoreCollectQueueUpdatedItemV1"

    StoreCollectQueueUpdatedItemV1:
      title: Набор актуальных значений очередей сборки
      type: object
      required:
        - store_code
        - completed_at
      properties:
        store_code:
          example: "123456"
          description: Идентификатор магазина в системе Магнит.
          type: string
        completed_at:
          type: string
          description: "Дата и время окончания сборки в магазине в формате RFC3339 с указанием часового пояса"
          example: "2023-12-31T00:00:00+03:00"
        updated_at:
          type: string
          description: "Дата и время в формате RFC3339 с указанием часового пояса, когда был посчитан completed_at"
          example: "2023-12-31T00:00:00+03:00"

    OauthToken:
      type: object
      required:
        - access_token
        - expires_in
        - scope
        - token_type
      properties:
        access_token:
          type: string
          description: Токен аутентификации
          example: eyJhbGciOiJSUzI1NiIsImtpZCI6IjgyNmRhNjg0LTI5OGItNDRkYy1hYjM1LTkwZDQ4OWQ3MWUxOCIsInR5cCI6IkpXVCJ9.eyJhdWQiOltdLCJjbGllbnRfaWQiOiJkYThiOTUzYi1jNmNjLTRkODgtYTUzZi02MGUzYjBlOTY2MTUiLCJleHAiOjE3MDczOTc5MDIsImV4dCI6eyJmb28iOiJiYXIifSwiaWF0IjoxNzA3Mzk0MzAyLCJpc3MiOiJodHRwOi8vMTI3LjAuMC4xOjQ0NDQiLCJqdGkiOiIwNTdiYWQwMS05YmZjLTQyMTktYTYxMi00NWJjOWY0OWIxNzQiLCJuYmYiOjE3MDczOTQzMDIsInNjcCI6WyJvcGVuaWQiLCJvZmZsaW5lIl0sInN1YiI6ImRhOGI5NTNiLWM2Y2MtNGQ4OC1hNTNmLTYwZTNiMGU5NjYxNSJ9.LN5yR70uw2LlVvaEQC-9oHj0Rr4dtpfO42Ie5OTNmzJCJ40hbB0ncdeje6HrIkKTKbiCrJf-Dnb2j9XMa8ybLQDkqedBG4UN-oJUALeCUS2M6sj2sKAe7B7e_nkF5wz9cuqucR5mbfwa19_xmK517PbMTxX3ZRVuPhKVogNzUFMRSeiFABsXNYVLGB4H5plhP13L4_NkJ6XOzP_wnW207UYIQz2zT97WnhoUPTKQoRWaGw-_CFOtBV6p1oQieXXZIKJ0kJCOD_UVxj2Ume4iKtd4X71GtVnakuB9-JnC7nKZ4UIEYJZ8l70GS-6P1ztElcxE_Xp4xbgxjVQQLro6FiMAiVDwmpWm9aq6Q6uSM971ZZm476N7CUWvEazJ-Ydes-WI0w_scf5GTJIPyqTjYBYH1xrHjt3tjbv5wloUJcRIipeCZreGm8atop0y7YaihKM-AEaVr1-lg45HynDufIoO-hYKUQD48wpg-50gDTItenkMGkKPGkNFkiht80iau93v0g5P5S6AgI3EiW7SUakX5XFRVav5ggjl0BjVDlRZUjReUSbtTer4ShD3Ff_DHMMRzbElnj2vh9sp2UwTeHy_9pCoUiQFBzohAi7whTcydNZtLDAzBw51DWuhuiExZiqqJNoVezqVHMmSjUK4qxXk6YHULhna5KKSROnwJkU
        expires_in:
          type: integer
          format: int64
          description: Время жизни токена в секундах
          example: 3599
        scope:
          type: string
          description: Права доступа
          example: openid last-mile:claims
        token_type:
          type: string
          description: Тип токена
          example: bearer

    OauthError:
      type: object
      required:
        - error
      properties:
        error:
          type: string
          description: "Код ошибки, кратко описывающий ее причину"
          example: invalid_client
        error_description:
          type: string
          description: "Детальное описание ошибки"
          example: Client authentication failed (e.g., unknown client, no client authentication included, or unsupported authentication method).
        message:
          type: string
          description: "Системное сообщение"

    BadRequestStoresStockDelta:
      type: object
      required:
        - error
      properties:
        error:
          type: string
          description: "Код ошибки, кратко описывающий ее причину"
          example: invalid_field
        message:
          type: string
          description: "Системное сообщение"

    #magnit-market-seller-api-schema-begin
    #magnit-market-seller-api-schema-goods
    ApiErrorResponse:
      type: object
      properties:
        code:
          type: string
          description: Error code
        detailMessage:
          type: string
          deprecated: true
        message:
          type: string
          description: Error message
        payload:
          type: object
      required:
      - code
      - message
    CategoryCharacteristicsRequest:
      type: object
      properties:
        category_ids:
          type: array
          description: "Список идентификаторов категорий, для которых необходимо п\
            получить характеристики. Обрабатываются только идентификаторы активных\
            \ категорий - характеристики будут возвращены только для них."
          example:
          - 123123
          - 123124
          items:
            type: integer
            format: int64
            description: "Список идентификаторов категорий, для которых необходимо\
              \ получить характеристики. Обрабатываются только идентификаторы акти\
              вных категорий - характеристики будут возвращены только для них."
      required:
      - category_ids
    CharacteristicAttribute:
      type: object
      description: "Список характеристик, связанных со словарем"
      properties:
        id:
          type: integer
          format: int64
          description: Уникальный идентификатор характеристики
          example: 101
        title:
          type: string
          description: Название или заголовок характеристики
          example: Цвет
        value:
          type: string
          description: Значение характеристики
          example: Красный
      required:
      - id
      - title
      - value
    CreateSkuFilter:
      type: object
      description: Фильтры SKU
      properties:
        characteristic_id:
          type: integer
          format: int64
          description: Идентификатор справочника
        characteristic_values:
          type: array
          description: Массив значений фильтра
          items:
            $ref: "#/components/schemas/SkuFilterValue"
      required:
      - characteristic_id
      - characteristic_values
    CreateSkuRequest:
      type: object
      properties:
        send_to_photo_studio:
          type: boolean
          default: false
          description: Флаг управления отправкой товара на фотостудию
          example: false
        sku_list:
          type: array
          description: Массив со списком SKU
          items:
            $ref: "#/components/schemas/SkuRequest"
      required:
      - sku_list
    CreateSkuResponse:
      type: object
      properties:
        task_id:
          type: integer
          format: int64
          description: Идентификатор задачи создания СКУ. Используется для отслеживания
            статуса запроса.
          example: 1234
    CustomSkuCharacteristic:
      type: object
      properties:
        characteristic_title:
          type: string
          description: "Название характеристики. Ограничение: до 255 символов"
          maxLength: 255
        characteristic_value:
          type: string
          description: "Значение характеристики. Ограничение: до 255 символов"
          maxLength: 255
      required:
      - characteristic_title
      - characteristic_value
    DictionaryPagination:
      type: object
      description: Детали пагинации для ответа словаря
      properties:
        page:
          type: integer
          format: int32
          description: Номер текущей страницы
          example: 0
          minimum: 0
        page_size:
          type: integer
          format: int32
          description: Количество элементов на странице
          example: 10
          maximum: 50
      required:
      - page
      - page_size
    DictionaryResponse:
      type: object
      properties:
        characteristic_attributes:
          type: array
          description: "Список характеристик, связанных со словарем"
          items:
            $ref: "#/components/schemas/CharacteristicAttribute"
        characteristic_title:
          type: string
          description: "Название характеристики, связанной со словарем"
          example: Размер
        dictionary_id:
          type: integer
          format: int64
          description: Уникальный идентификатор словаря
          example: 1
        pagination:
          $ref: "#/components/schemas/DictionaryPagination"
        system_characteristic:
          type: boolean
          description: "Флаг, указывающий, является ли характеристика системной"
          example: true
      required:
      - characteristic_attributes
      - characteristic_title
      - dictionary_id
      - pagination
      - system_characteristic
    ErrorInfo:
      type: object
      description: Список ошибок при обработке товаров
      properties:
        attribute_error:
          type: string
          description: "Поле, в котором произошла ошибка"
        message:
          type: string
          description: Текст ошибки
        seller_sku_id:
          type: string
          description: Идентификатор СКУ в системе продавца
        status:
          type: string
          description: Статус обработки СКУ
    ExternalSellerCategoryDto:
      type: object
      properties:
        category_id:
          type: integer
          format: int64
          description: Уникальный идентификатор категории
          example: 123
        category_string_path:
          type: string
          description: "Полный путь категории, отображающий иерархию от родительск\
            ой до текущей категории, разделённый '->'"
          example: Электроника -> Компьютеры -> Ноутбуки
        category_title:
          type: string
          description: Название категории
          example: Ноутбуки
      required:
      - category_id
      - category_string_path
      - category_title
    ExternalSellerCharacteristicsDto:
      type: object
      properties:
        category_id:
          type: integer
          format: int64
          description: Уникальный идентификатор категории
          example: 123
        category_title:
          type: string
          description: Название категории
          example: Ноутбуки
        defined_characteristic:
          type: array
          description: Определённые характеристики категории
          items:
            $ref: "#/components/schemas/SkuCharacteristicCategoryDto"
        product_filter:
          type: array
          description: "Характеристики категории, используемые как фильтры для тов\
            аров"
          items:
            $ref: "#/components/schemas/SkuCharacteristicCategoryDto"
        sku_filter:
          type: array
          description: "Характеристики категории, используемые как фильтры для SKU"
          items:
            $ref: "#/components/schemas/SkuCharacteristicCategoryDto"
      required:
      - category_id
      - category_title
      - defined_characteristic
      - product_filter
    GenericResponse:
      type: object
      properties:
        error:
          type: string
          example: "null"
          readOnly: true
        errors:
          type: array
          items:
            $ref: "#/components/schemas/ApiErrorResponse"
        payload:
          type: object
          description: Response payload
        timestamp:
          type: string
          format: date-time
        trace:
          type: string
    KeySetPagination:
      type: object
      description: KeySet пагинация
      properties:
        dir:
          type: string
          description: Направление сортировки
          enum:
          - ASC
          - DESC
          example: DESC
        last_key:
          type: integer
          format: int64
          description: "Идентификатор записи, с которого начинать чтение. Для полу\
            чения следующей страницы используйте последний sku_id из предыдущего о\
            твета"
          example: 0
          minimum: 0
        limit:
          type: integer
          format: int64
          description: Максимальное количество возвращаемых данных
          example: 25
          maximum: 1000
          minimum: 1
      required:
      - dir
      - last_key
      - limit
    Pagination:
      type: object
      description: Пагинация
      properties:
        dir:
          type: string
          description: Направление сортировки
          enum:
          - ASC
          - DESC
          example: DESC
        page:
          type: integer
          format: int64
          description: Страница
          example: 0
          minimum: 0
        page_size:
          type: integer
          format: int64
          description: Количество записей на странице
          example: 25
          maximum: 1000
          minimum: 1
      required:
      - dir
      - page
      - page_size
    PriceDto:
      type: object
      description: Данные по ценам
      properties:
        currency_code:
          type: string
          description: Код валюты
          example: RUB
        old_price:
          type: number
          description: Цена товара без скидки
        price:
          type: number
          description: Цена продажи
        seller_sku_id:
          type: string
          description: Идентификатор sku в системе продавца
          example: bdd8c471a3b0a3c1
        sku_id:
          type: integer
          format: int64
          description: Идентификатор sku (формирует ММ)
          example: 121
      required:
      - currency_code
      - price
    PriceInfoResponse:
      type: object
      description: Данные по ценам
      properties:
        commission_amount:
          type: number
          description: Размер комиссии за товар
        commission_currency_code:
          type: string
          description: Код валюты комиссии
        commission_percent:
          type: integer
          format: int64
          description: Процент комиссии
        currency_code:
          type: string
          description: Код валюты
        old_price:
          type: number
          description: Цена товара без скидки
        price:
          type: number
          description: Цена продажиа
        seller_sku_id:
          type: string
          description: Идентификатор sku в системе продавца
          example: bdd8c471a3b0a3c1
        sku_id:
          type: integer
          format: int64
          description: Идентификатор sku (формирует ММ)
          example: 121
        timestamp:
          type: string
          format: date-time
          description: Дата последнего обновления
    PriceUpdateResponse:
      type: object
      description: Данные по ценам с ошибками
      properties:
        currency_code:
          type: string
          description: Код валюты
          example: RUB
        error:
          type: string
          description: Описание ошибки
        old_price:
          type: number
          description: Цена товара без скидки
        price:
          type: number
          description: Цена продажи
        seller_sku_id:
          type: string
          description: Идентификатор sku в системе продавца
          example: bdd8c471a3b0a3c1
        sku_id:
          type: integer
          format: int64
          description: Идентификатор sku (формирует ММ)
          example: 121
      required:
      - currency_code
      - price
    PricesRequest:
      type: object
      description: Запрос на обновление данные по ценам
      properties:
        prices:
          type: array
          description: Массив цен
          items:
            $ref: "#/components/schemas/PriceDto"
      required:
      - prices
    ProductDeleteRequest:
      type: object
      description: Запрос на удаление продуктов
      properties:
        product_ids:
          type: array
          description: Список идентификаторов продукта
          items:
            type: integer
            format: int64
            description: Список идентификаторов продукта
      required:
      - product_ids
    ProductDeleteResponse:
      type: object
      properties:
        error_msg:
          type: string
          description: "Текст ошибки, полученной при попытке удаления продукта"
        product_id:
          type: integer
          format: int64
          description: Идентификатор продукта
        success:
          type: boolean
          description: Флаг успешности удаления продукта
    ProductVisualEffects:
      type: object
      description: Объект с URL архива.zip с фотографиями внутри в формате .jpg
      properties:
        url:
          type: string
          description: Конечный URL
      required:
      - url
    ShopDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: Идентификатор магазина
          example: 123
        title:
          type: string
          description: Название магазина
          example: Березка
    ShortSkuInfo:
      type: object
      description: Данные по sku после маппинга
      properties:
        barcode:
          type: integer
          format: int64
          description: Штрихкод SKU
        product_id:
          type: integer
          format: int64
          description: Идентификатор продукта
        seller_sku_id:
          type: string
          description: Внешний идентификатор SKU
        sku_id:
          type: integer
          format: int64
          description: Внутренний идентификатор SKU
    ShortSkuInfoFilter:
      type: object
      description: Фильтры для поиска по sku ID или external sku ID
      properties:
        seller_sku_ids:
          type: array
          description: Список идентификаторов СКУ в системе селлера
          items:
            type: string
            description: Список идентификаторов СКУ в системе селлера
          maxItems: 1000
          minItems: 0
        sku_ids:
          type: array
          description: Список внутренних идентификаторов СКУ
          items:
            type: integer
            format: int64
            description: Список внутренних идентификаторов СКУ
          maxItems: 1000
          minItems: 0
    ShortSkuInfoRequest:
      type: object
      description: Запрос для получения компактной информации об СКУ
      properties:
        filters:
          $ref: "#/components/schemas/ShortSkuInfoFilter"
        pagination:
          $ref: "#/components/schemas/KeySetPagination"
    ShortSkuInfoResponse:
      type: object
      description: "Ответ, содержащий компактную информацию по найденным СКУ"
      properties:
        result:
          type: array
          description: Массив найденных СКУ
          items:
            $ref: "#/components/schemas/ShortSkuInfo"
        result_count:
          type: integer
          format: int32
          description: Количество найденных СКУ
        shop_id:
          type: integer
          format: int64
          description: Идентификатор магазина
    SkuArchiveRequest:
      type: object
      properties:
        seller_sku_ids:
          type: array
          description: Список идентификаторов СКУ в системе селлера
          items:
            type: string
            description: Список идентификаторов СКУ в системе селлера
        sku_ids:
          type: array
          description: Список внутренних идентификаторов СКУ
          items:
            type: integer
            format: int64
            description: Список внутренних идентификаторов СКУ
    SkuArchiveResponse:
      type: object
      properties:
        error_msg:
          type: string
        seller_sku_id:
          type: string
          description: Идентификатор sku в системе продавца
          example: bdd8c471a3b0a3c1
        sku_id:
          type: integer
          format: int64
          description: Идентификатор sku (формирует ММ)
          example: 121
        success:
          type: boolean
    SkuCharacteristic:
      type: object
      description: "Характеристики, относящиеся к Продукту"
      properties:
        characteristic_id:
          type: integer
          format: int64
          description: Идентификатор справочника
        characteristic_value:
          type: string
          description: Значение характеристики
      required:
      - characteristic_id
      - characteristic_value
    SkuCharacteristicCategoryDto:
      type: object
      description: "Характеристики категории, используемые как фильтры для SKU"
      properties:
        characteristic_title:
          type: string
          description: Название характеристики
          example: Цвет
        dictionary_id:
          type: integer
          format: int64
          description: Уникальный идентификатор характеристики
          example: 101
        extendable_values:
          type: boolean
          description: "Признак того, что значения фильтра SKU могут быть расширен\
            ы"
          example: true
        input_type:
          type: string
          description: Тип ввода значения фильтра для SKU
          enum:
          - RANGED_VALUE
          - SINGLE_CHOICE
          - MULTIPLE_CHOICE
          example: SINGLE_CHOICE
        max_allowed_values:
          type: integer
          format: int32
          description: Максимально допустимое количество значений для фильтра SKU
          example: 5
        required:
          type: boolean
          description: Признак обязательности заполнения характеристики
          example: true
        system_characteristic:
          type: boolean
          description: "Признак того, что характеристика является системной (true)\
            \ или фильтрующей (false)"
          example: true
        type:
          type: string
          description: Тип характеристики
          enum:
          - DEFINED
          - PRODUCT
          - SKU
          example: DEFINED
      required:
      - characteristic_title
      - dictionary_id
      - required
      - system_characteristic
      - type
    SkuDimensions:
      type: object
      description: ВГХ SKU
      properties:
        height:
          type: integer
          format: int32
          description: Высота в мм
        length:
          type: integer
          format: int32
          description: Длина в мм
        weight:
          type: integer
          format: int32
          description: Вес в граммах
        width:
          type: integer
          format: int32
          description: Ширина в мм
      required:
      - height
      - length
      - weight
      - width
    SkuFilter:
      type: object
      description: Фильтр SKU
      properties:
        seller_sku_ids:
          type: array
          description: Список идентификаторов СКУ в системе селлера
          items:
            type: string
            description: Список идентификаторов СКУ в системе селлера
        sku_ids:
          type: array
          description: Список внутренних идентификаторов СКУ
          items:
            type: integer
            format: int64
            description: Список внутренних идентификаторов СКУ
    SkuFilterValue:
      type: object
      description: Массив значений фильтра
      properties:
        characteristic_value:
          type: string
          description: Значение фильтра
      required:
      - characteristic_value
    SkuInfo:
      type: object
      description: Информация о SKU
      properties:
        barcode:
          type: integer
          format: int64
          description: Штрихкод
        category_id:
          type: integer
          format: int64
          description: Идентификатор категории
        certificate:
          type: string
          description: Сертификат
        composition:
          type: string
          description: Состав
        currency_code:
          type: string
          description: Валюта цены
        custom_characteristic_values_skus:
          type: array
          description: Пользовательские характеристики SKU
          items:
            $ref: "#/components/schemas/CustomSkuCharacteristic"
        depth:
          type: integer
          format: int64
          deprecated: true
          description: "Глубина в мм (deprecated, используйте поле length)"
        description:
          type: string
          description: Описание
        height:
          type: integer
          format: int64
          description: Высота в мм
        instruction:
          type: string
          description: Инструкция
        is_active:
          type: boolean
          description: Признак активности
        is_archive:
          type: boolean
          description: Признак архивности
        is_blocked:
          type: boolean
          description: Признак блокировки
        is_no_stock:
          type: boolean
          description: Признак отсутствия на складе
        length:
          type: integer
          format: int64
          description: Длина в мм (приоритетное поле)
        okpd2:
          type: string
          description: Код ОКПД2
        old_price:
          type: integer
          format: int32
          description: Цена товара без скидки
        photo_360:
          $ref: "#/components/schemas/ProductVisualEffects"
        price:
          type: integer
          format: int32
          description: Цена продажи
        product_attributes:
          type: array
          description: Свойства товара
          items:
            type: string
            description: Свойства товара
        product_id:
          type: integer
          format: int64
          description: Идентификатор карточки товара
        product_images:
          type: array
          description: Изображения продукта
          items:
            $ref: "#/components/schemas/ProductVisualEffects"
        seller_sku_id:
          type: string
          description: Идентификатор SKU в системе селлера
        size_chart:
          type: string
          description: Таблица размеров
        sku_characteristic_list:
          type: array
          description: Список характеристик SKU
          items:
            $ref: "#/components/schemas/SkuCharacteristic"
        sku_id:
          type: integer
          format: int64
          description: Идентификатор SKU
        title:
          type: string
          description: Название
        vat:
          type: string
          description: Ставка НДС
        video:
          $ref: "#/components/schemas/ProductVisualEffects"
        weight:
          type: integer
          format: int64
          description: Вес в граммах
        width:
          type: integer
          format: int64
          description: Ширина в мм
      required:
      - barcode
      - category_id
      - currency_code
      - description
      - height
      - is_active
      - is_archive
      - is_blocked
      - is_no_stock
      - length
      - okpd2
      - price
      - product_id
      - product_images
      - seller_sku_id
      - sku_id
      - title
      - vat
      - weight
      - width
    SkuInfoRequest:
      type: object
      description: Запрос на получение данных по SKU
      properties:
        filter:
          $ref: "#/components/schemas/SkuFilter"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
      - pagination
    SkuInfoResponsePriceInfoResponse:
      type: object
      description: Ответ на запрос данных по остаткам
      properties:
        result:
          type: array
          items:
            $ref: "#/components/schemas/PriceInfoResponse"
    SkuInfoResponsePriceUpdateResponse:
      type: object
      description: Ответ на запрос данных по остаткам
      properties:
        result:
          type: array
          items:
            $ref: "#/components/schemas/PriceUpdateResponse"
    SkuInfoResponseProductDeleteResponse:
      type: object
      description: Ответ на запрос данных по остаткам
      properties:
        result:
          type: array
          items:
            $ref: "#/components/schemas/ProductDeleteResponse"
    SkuInfoResponseSkuArchiveResponse:
      type: object
      description: Ответ на запрос данных по остаткам
      properties:
        result:
          type: array
          items:
            $ref: "#/components/schemas/SkuArchiveResponse"
    SkuInfoResponseStockInfoResponse:
      type: object
      description: Ответ на запрос данных по остаткам
      properties:
        result:
          type: array
          items:
            $ref: "#/components/schemas/StockInfoResponse"
    SkuListRequest:
      type: object
      description: Запрос на получение списка SKU
      properties:
        filter:
          $ref: "#/components/schemas/SkuRequestFilter"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
      - pagination
    SkuListResponse:
      type: object
      description: Ответ со списком SKU
      properties:
        result:
          type: array
          description: Список найденных SKU
          items:
            $ref: "#/components/schemas/SkuInfo"
      required:
      - result
    SkuRequest:
      type: object
      description: Массив со списком SKU
      properties:
        barcode:
          type: integer
          format: int64
          description: "Штрихкод SKU, в случае если он не будет передан Магнит Мар\
            кет создаст его"
        category_id:
          type: integer
          format: int64
          description: Идентификатор категории
        certificate:
          type: string
          description: "Сертификаты, конечный URL файла в jpg, png, pdf"
        composition:
          type: string
          description: "Состав товара: конечный URL файла в jpg, png, pdf"
        currency_code:
          type: string
          description: "Валюта цен. Возможные значения: RUB — российский рубль"
        custom_characteristic_values_skus:
          type: array
          description: "Пользовательские характеристики sku для объединения SKU в\
            \ одну карточку товара. Ограничение: до 3 характеристик"
          items:
            $ref: "#/components/schemas/CustomSkuCharacteristic"
          maxItems: 3
        defined_characteristic_list:
          type: array
          description: Предопределенные характеристики
          items:
            $ref: "#/components/schemas/SkuCharacteristic"
        depth:
          type: integer
          format: int32
          deprecated: true
          description: "Глубина в мм (deprecated, используйте поле length)"
        description:
          type: string
          description: "Описание, единое для карточки товара. Ограничение: до 6000\
            \ символов"
          maxLength: 6000
        height:
          type: integer
          format: int32
          description: Высота в мм
        instruction:
          type: string
          description: "Инструкция по уходу и применению: конечный URL файла в jpg,\
            \ png, pdf"
        length:
          type: integer
          format: int32
          description: Длина в мм (приоритет над полем depth)
        okpd2:
          type: string
          description: Общероссийский классификатор продукции
        old_price:
          type: integer
          format: int32
          description: Цена товара без скидки (зачеркнутая)
        photo360:
          $ref: "#/components/schemas/ProductVisualEffects"
        price:
          type: integer
          format: int32
          description: Цена продажи (возможна скидка)
        product_attributes:
          type: array
          description: "Свойства товара. Ограничение: до 10 свойств"
          items:
            type: string
          maxItems: 10
        product_filters_list:
          type: array
          description: "Характеристики, относящиеся к Продукту"
          items:
            $ref: "#/components/schemas/SkuCharacteristic"
        product_images:
          type: array
          description: "Массив объектов с URL файлов в jpg, png, pdf с фото товаро\
            в; может быть несколько фото (до 10 штук)"
          items:
            $ref: "#/components/schemas/ProductVisualEffects"
          maxItems: 10
          minItems: 1
        seller_sku_id:
          type: string
          description: "Уникальный идентификатор SKU в системе селлера. Длина: до\
            \ 80 символов. Допустимые символы: латиница (a-zA-Z), кириллица (а-яА\
            -Я, кроме ёЁ), цифры (0-9), некоторые специальные символы .,\\/()[]-=_."
        shop_id:
          type: integer
          format: int64
          description: Идентификатор магазина
        short_description:
          type: string
          description: "Краткое описание, единое для карточки товара. Ограничение\
            : до 390 символов"
          maxLength: 390
        size_chart:
          type: string
          description: "Конечный URL файла с размерной сеткой в jpg, png, pdf"
        sku_characteristic_list:
          type: array
          deprecated: true
          description: Характеристики SKU
          items:
            $ref: "#/components/schemas/SkuCharacteristic"
        sku_filter_list:
          type: array
          description: Фильтры SKU
          items:
            $ref: "#/components/schemas/CreateSkuFilter"
        sku_group_id:
          type: string
          description: "Идентификатор группы SKU. Укажите одинаковые значения для\
            \ всех SKU, которые должны быть объединены в одну карточку товара.Форм\
            ат: длина не более 50 символов, a-zA-Z0-9, а-яА-Я0-9 (кроме ёЁ), допус\
            тимы специальные символы .,\\/()[]-=_."
          maxLength: 50
        title:
          type: string
          description: "Название, единое для карточки товара. Ограничение: от 3 до\
            \ 90 символов"
          maxLength: 90
          minLength: 3
        vat:
          type: string
          description: "НДС. Возможные значения: 0, 5, 7, 10, 22, \"Не облагается\""
        video:
          $ref: "#/components/schemas/ProductVisualEffects"
        weight:
          type: integer
          format: int32
          description: Вес в граммах
        width:
          type: integer
          format: int32
          description: Ширина в мм
      required:
      - category_id
      - currency_code
      - description
      - height
      - length
      - price
      - product_filters_list
      - product_images
      - seller_sku_id
      - shop_id
      - short_description
      - sku_group_id
      - title
      - vat
      - weight
      - width
    SkuRequestFilter:
      type: object
      description: Фильтр для поиска SKU
      properties:
        category_id:
          type: integer
          format: int32
          description: Идентификатор категории
        shop_id:
          type: integer
          format: int32
          description: Идентификатор магазина
    SkuWarning:
      type: object
      description: Расшифровка по незначительным ошибкам
      properties:
        attributes:
          type: array
          description: Блок с расшифровкой незначительных ошибок при обновлении sku
          items:
            $ref: "#/components/schemas/SkuWarningAttribute"
        seller_sku_id:
          type: string
          description: SKU id продавца
        status:
          type: string
          description: Статус конкретного sku
      required:
      - attributes
      - seller_sku_id
      - status
    SkuWarningAttribute:
      type: object
      description: Расшифровка по незначительным ошибкам
      properties:
        attribute:
          type: string
          description: Проблемный атрибут
        message:
          type: string
          description: Предупреждение
      required:
      - attribute
      - message
    StockDto:
      type: object
      description: Данные по остаткам на складе продавца
      properties:
        seller_sku_id:
          type: string
          description: Идентификатор sku в системе продавца
          example: bdd8c471a3b0a3c1
        sku_id:
          type: integer
          format: int64
          description: Идентификатор sku (формирует ММ)
          example: 121
        stock:
          type: integer
          format: int64
          description: Остаток на складе селлера
          example: 1
        warehouse_id:
          type: string
          format: uuid
          description: Идентификатор склада (формирует ММ)
          example: bdd8c471-3dc8-4dd0-a544-30b5a3b0a3c1
      required:
      - stock
      - warehouse_id
    StockInfoDetails:
      type: object
      description: Детальные данные по остаткам
      properties:
        reserved:
          type: integer
          format: int64
          description: Количество зарезервированных товаров на складе
          example: 3
        stock:
          type: integer
          format: int64
          description: Количество товара
          example: 120
        type:
          type: string
          description: Тип склада
          example: FBS
    StockInfoResponse:
      type: object
      description: Данные по остаткам
      properties:
        seller_sku_id:
          type: string
          description: Идентификатор sku в системе продавца
          example: 30b5a3b0a3c1
        sku_id:
          type: integer
          format: int64
          description: Идентификатор sku (формирует ММ)
          example: 11
        stock_info_details:
          type: array
          items:
            $ref: "#/components/schemas/StockInfoDetails"
    StockRequest:
      type: object
      description: Запрос на обновление данные по остаткам
      properties:
        stocks:
          type: array
          description: Список объектов с данными об остатках
          items:
            $ref: "#/components/schemas/StockDto"
      required:
      - stocks
    TaskStatusResponse:
      type: object
      properties:
        count_error:
          type: integer
          format: int32
          description: Количество неуспешно созданных SKU
        count_warning:
          type: integer
          format: int32
          description: Количество предупреждений
        error:
          type: array
          description: Список ошибок при обработке товаров
          items:
            $ref: "#/components/schemas/ErrorInfo"
        status:
          type: string
          description: "Статус выполнения задачи: CREATED - создана, IN_PROGRESS -\
            \ выполняется, CANCELLED - отменена, COMPLETED - завершена"
          enum:
          - CREATED
          - IN_PROGRESS
          - CANCELLED
          - COMPLETED
        total_upload:
          type: integer
          format: int32
          description: Количество успешно загруженных товаров
        warnings:
          type: array
          description: Список предупреждений
          items:
            $ref: "#/components/schemas/SkuWarning"
    UpdateSkuDto:
      type: object
      properties:
        barcode:
          type: integer
          format: int64
          description: Штрихкод SKU
        dimensions:
          $ref: "#/components/schemas/SkuDimensions"
        seller_sku_id:
          type: string
          description: "Уникальный идентификатор SKU в системе селлера. Длина: до\
            \ 80 символов. Допустимые символы: латиница (a-zA-Z), кириллица (а-яА\
            -Я, кроме ёЁ), цифры (0-9), некоторые специальные символы .,\\/()[]-=_."
        sku_filter_list:
          type: array
          description: Фильтры SKU
          items:
            $ref: "#/components/schemas/UpdateSkuFilter"
      required:
      - seller_sku_id
    UpdateSkuFilter:
      type: object
      description: Фильтры SKU
      properties:
        characteristic_id:
          type: integer
          format: int64
          description: Идентификатор справочника
        characteristic_values:
          type: array
          description: Массив значений фильтра
          items:
            type: string
            description: Массив значений фильтра
          uniqueItems: true
      required:
      - characteristic_id
      - characteristic_values
    UpdateSkuRequest:
      type: object
      properties:
        sku_list:
          type: array
          items:
            $ref: "#/components/schemas/UpdateSkuDto"
    #magnit-market-seller-api-schema-lms
    MarketplacePaginationRequest:
      type: object
      properties:
        page_size:
          description: Лимит кол-ва элементов в одном ответе
          maximum: 1000
          minimum: 1
          default: 100
          type: integer
        page_token:
          type: string
          description: >
            В этом параметр необходимо передавать `next_page_token` из
            предыдущего ответа.

            Если параметр не задан возвращается первая страница с результатами.
    MarketplaceSortDirection:
      type: string
      description: Направление сортировки
      enum:
        - ASC
        - DESC
    MarketplaceDateTime:
      type: string
      format: date-time
      example: '2024-08-24T14:15:22Z'
      description: Дата/время в формате RFC3339 с указанием часового пояса
    MarketplaceFilterDateTime:
      type: object
      description: >
        Фильтр по временному интервалу. Необходимо передать хотя бы одно поле
        фильтра.


        * `from` Начало интервала (включительно).

        * `to`   Конец интервала (не включительно).
      properties:
        from:
          $ref: '#/components/schemas/MarketplaceDateTime'
        to:
          $ref: '#/components/schemas/MarketplaceDateTime'
      anyOf:
        - required:
            - from
        - required:
            - to
    MarketplaceWarehouseIdType:
      type: string
      description: Идентификатор склада
      format: uuid
      example: 5f6f0334-0759-4e04-af31-8c5a4c4fa7b4
    MarketplaceOrdersUnprocessedRequest:
      type: object
      required:
        - dir
      allOf:
        - $ref: '#/components/schemas/MarketplacePaginationRequest'
        - type: object
          properties:
            dir:
              $ref: '#/components/schemas/MarketplaceSortDirection'
            cutoff_time:
              $ref: '#/components/schemas/MarketplaceFilterDateTime'
            warehouse_id:
              type: array
              description: Фильтр по идентификаторам складов.
              minItems: 1
              maxItems: 50
              items:
                $ref: '#/components/schemas/MarketplaceWarehouseIdType'
    MarketplacePaginationResponse:
      type: object
      properties:
        next_page_token:
          type: string
          description: |
            Токен для получения следующей страницы.
            Его необходимо передать в поле `page_token` в следующем запросе.
    MarketplaceOrderIdType:
      type: string
      description: Идентификатор сборочного задания
      maxLength: 36
    MarketplaceOrderStatus:
      type: string
      description: |
        Статус сборочного задания

        * `NEW`         - Новый
        * `IN_ASSEMBLY` - Собирается
        * `ASSEMBLED`   - Сборка завершена
        * `CANCELED`    - Отменен
      enum:
        - NEW
        - IN_ASSEMBLY
        - ASSEMBLED
        - CANCELED
    MarketplaceSkuIdType:
      type: integer
      format: int64
      example: 4323435
    MarketplaceOrderItemFinancialData:
      type: object
      required:
        - old_price
        - price
        - payment_price
      properties:
        old_price:
          description: >-
            Старая цена товара. На текущий момент совпадает со значение в поле
            price.
          type: number
          example: 30
        price:
          description: Цена единицы товара на витрине.
          type: number
          example: 30
        payment_price:
          description: 'Цена единицы товара, которую заплатил покупатель.'
          type: number
          example: 30
    MarketplaceOrderItem:
      type: object
      required:
        - sku_id
        - quantity
        - financial_data
      properties:
        sku_id:
          $ref: '#/components/schemas/MarketplaceSkuIdType'
        quantity:
          type: integer
          description: >-
            Кол-во единиц товара которое необходимо собрать.

            Поле отражает актуальное кол-во товара которое необходимо собрать.
            Если производить отмену товаров, то значение в этом поле будет
            уменьшаться
          example: 10
        canceled_quantity:
          type: integer
          description: Кол-во товаров которое было отменено при сборке.
          example: 1
        financial_data:
          $ref: '#/components/schemas/MarketplaceOrderItemFinancialData'
    MarketplaceOrder:
      type: object
      required:
        - order_id
        - warehouse_id
        - status
        - cutoff_time
        - created_at
        - items
      properties:
        order_id:
          $ref: '#/components/schemas/MarketplaceOrderIdType'
        warehouse_id:
          $ref: '#/components/schemas/MarketplaceWarehouseIdType'
        status:
          $ref: '#/components/schemas/MarketplaceOrderStatus'
        created_at:
          description: |
            Дата и время создания заказа
          allOf:
            - $ref: '#/components/schemas/MarketplaceDateTime'
        cutoff_time:
          description: >
            Дата и время, до которого необходимо собрать товары в посылки и
            привезти их на точку drop-off
          allOf:
            - $ref: '#/components/schemas/MarketplaceDateTime'
        items:
          description: |
            Список товаров которые необходимо собрать
          type: array
          items:
            $ref: '#/components/schemas/MarketplaceOrderItem'
    MarketplaceOrdersUnprocessedResponse:
      type: object
      required:
        - orders
      allOf:
        - $ref: '#/components/schemas/MarketplacePaginationResponse'
        - properties:
            orders:
              type: array
              items:
                $ref: '#/components/schemas/MarketplaceOrder'
    MarketplaceApiError:
      type: object
      required:
        - message
      properties:
        message:
          description: Описание ошибки.
          type: string
    MarketplaceApiErrorResponse:
      type: object
      required:
        - errors
      allOf:
        - properties:
            errors:
              description: Список ошибок.
              type: array
              items:
                $ref: '#/components/schemas/MarketplaceApiError'
    MarketplaceOrdersListRequest:
      type: object
      required:
        - dir
        - created_at
      allOf:
        - $ref: '#/components/schemas/MarketplacePaginationRequest'
        - type: object
          properties:
            dir:
              $ref: '#/components/schemas/MarketplaceSortDirection'
            order_id:
              type: array
              minItems: 1
              maxItems: 50
              items:
                $ref: '#/components/schemas/MarketplaceOrderIdType'
            warehouse_id:
              type: array
              description: Фильтр по идентификаторам складов.
              minItems: 1
              maxItems: 50
              items:
                $ref: '#/components/schemas/MarketplaceWarehouseIdType'
            created_at:
              $ref: '#/components/schemas/MarketplaceFilterDateTime'
            status:
              $ref: '#/components/schemas/MarketplaceOrderStatus'
    MarketplaceOrdersListResponse:
      type: object
      required:
        - orders
      allOf:
        - $ref: '#/components/schemas/MarketplacePaginationResponse'
        - type: object
          properties:
            orders:
              type: array
              items:
                $ref: '#/components/schemas/MarketplaceOrder'
    MarketplaceSkuItem:
      type: object
      required:
        - sku_id
        - quantity
      properties:
        sku_id:
          $ref: '#/components/schemas/MarketplaceSkuIdType'
        quantity:
          type: integer
          minimum: 1
    MarketplaceOrderCancelItemsRequest:
      type: object
      required:
        - items
        - order_id
      properties:
        order_id:
          $ref: '#/components/schemas/MarketplaceOrderIdType'
        items:
          type: array
          items:
            $ref: '#/components/schemas/MarketplaceSkuItem'
    MarketplaceOrderCancelItemsResponse:
      type: object
      required:
        - order
      properties:
        order:
          $ref: '#/components/schemas/MarketplaceOrder'
    MarketplaceOrderCancelRequest:
      type: object
      required:
        - order_id
      properties:
        order_id:
          $ref: '#/components/schemas/MarketplaceOrderIdType'
    MarketplaceOrderCancelResponse:
      type: object
    MarketplaceOrderCompleteRequest:
      type: object
      required:
        - order_id
      properties:
        order_id:
          $ref: '#/components/schemas/MarketplaceOrderIdType'
    MarketplaceParcelIdType:
      type: string
      description: Идентификатор посылки
      maxLength: 36
    MarketplaceSkuIdentifiers:
      type: object
      description: Идентификаторы для товара
      properties:
        cis:
          description: Маркировка Честный знак
          type: string
        uin:
          description: Уникальный идентификационный номер (УИН) ювелирного изделия
          type: string
        rnpt:
          description: Регистрационный номер партии товара (РНПТ)
          type: string
        gtd:
          description: Номер грузовой таможенной декларации (ГТД)
          type: string
    MarketplaceParcelItem:
      type: object
      required:
        - sku_id
        - quantity
      properties:
        sku_id:
          $ref: '#/components/schemas/MarketplaceSkuIdType'
        quantity:
          type: integer
          minimum: 1
        identifiers:
          type: array
          items:
            $ref: '#/components/schemas/MarketplaceSkuIdentifiers'
    MarketplaceParcel:
      type: object
      required:
        - parcel_id
        - barcode
        - items
      properties:
        parcel_id:
          $ref: '#/components/schemas/MarketplaceParcelIdType'
        barcode:
          type: string
        items:
          type: array
          items:
            $ref: '#/components/schemas/MarketplaceParcelItem'
    MarketplaceOrderCompleteResponse:
      type: object
      required:
        - parcels
      properties:
        parcels:
          type: array
          items:
            $ref: '#/components/schemas/MarketplaceParcel'
    MarketplaceCreateParcel:
      type: object
      required:
        - items
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/MarketplaceParcelItem'
    MarketplaceOrderParcelsRequest:
      type: object
      required:
        - parcels
        - order_id
      properties:
        order_id:
          $ref: '#/components/schemas/MarketplaceOrderIdType'
        parcels:
          type: array
          items:
            $ref: '#/components/schemas/MarketplaceCreateParcel'
    MarketplaceOrderParcelsResponse:
      type: object
      required:
        - parcels
      properties:
        parcels:
          type: array
          items:
            $ref: '#/components/schemas/MarketplaceParcel'
    MarketplaceParcelStatus:
      type: string
      description: |
        Статус посылки
        * `NEW`                  - Новая
        * `READY_TO_SHIPMENT`    - Готов к отгрузке
        * `AWAITING_DELIVERY`    - Передается в доставку
        * `DELIVERING`           - В пути
        * `RECEIVED`             - Получен клиентом
        * `CANCELED`             - Отменен
      enum:
        - NEW
        - READY_TO_SHIPMENT
        - AWAITING_DELIVERY
        - DELIVERING
        - RECEIVED
        - CANCELED
    MarketplaceParcelsListRequest:
      type: object
      required:
        - dir
      allOf:
        - $ref: '#/components/schemas/MarketplacePaginationRequest'
        - type: object
          properties:
            dir:
              $ref: '#/components/schemas/MarketplaceSortDirection'
            parcel_id:
              type: array
              minItems: 1
              maxItems: 50
              items:
                $ref: '#/components/schemas/MarketplaceParcelIdType'
            order_id:
              type: array
              minItems: 1
              maxItems: 50
              items:
                $ref: '#/components/schemas/MarketplaceOrderIdType'
            created_at:
              $ref: '#/components/schemas/MarketplaceFilterDateTime'
            cutoff_time:
              $ref: '#/components/schemas/MarketplaceFilterDateTime'
            status:
              $ref: '#/components/schemas/MarketplaceParcelStatus'
    MarketplaceParcelFullInfo:
      type: object
      required:
        - parcel_id
        - status
        - barcode
        - cutoff_time
        - items
      properties:
        parcel_id:
          $ref: '#/components/schemas/MarketplaceParcelIdType'
        order_id:
          $ref: '#/components/schemas/MarketplaceOrderIdType'
        status:
          $ref: '#/components/schemas/MarketplaceParcelStatus'
        barcode:
          type: string
        cutoff_time:
          type: string
          format: date-time
          example: '2019-08-24T14:15:22'
        items:
          type: array
          items:
            $ref: '#/components/schemas/MarketplaceParcelItem'
    MarketplaceParcelsListResponse:
      type: object
      allOf:
        - $ref: '#/components/schemas/MarketplacePaginationResponse'
        - type: object
          properties:
            parcels:
              type: array
              items:
                $ref: '#/components/schemas/MarketplaceParcelFullInfo'
    MarketplaceParcelMarkingItem:
      type: object
      required:
        - sku_id
        - identifiers
      properties:
        sku_id:
          $ref: '#/components/schemas/MarketplaceSkuIdType'
        identifiers:
          type: array
          items:
            $ref: '#/components/schemas/MarketplaceSkuIdentifiers'
    MarketplaceParcelsAddMarkingRequest:
      type: object
      required:
        - parcel_id
        - items
      properties:
        parcel_id:
          $ref: '#/components/schemas/MarketplaceParcelIdType'
        items:
          type: array
          items:
            $ref: '#/components/schemas/MarketplaceParcelMarkingItem'
    MarketplaceParcelsAddMarkingResponse:
      type: object
    MarketplaceParcelsLabelsRequest:
      type: object
      required:
        - parcel_id
      properties:
        parcel_id:
          type: array
          minItems: 1
          maxItems: 50
          items:
            $ref: '#/components/schemas/MarketplaceParcelIdType'
    MarketplaceParcelLabelItem:
      type: object
      required:
        - parcel_id
        - barcode
      properties:
        parcel_id:
          $ref: '#/components/schemas/MarketplaceParcelIdType'
        barcode:
          description: Штрих код посылки
          type: string
    MarketplaceParcelsLabelsResponse:
      type: object
      required:
        - parcels
        - file_content
      properties:
        file_content:
          description: PDF файл со всеми этикетками
          type: string
          example: |-
            %PDF-1.3
            3 0 obj
            <</Type /Page
            ...
        parcels:
          description: |
            Информация о посылках
          type: array
          items:
            $ref: '#/components/schemas/MarketplaceParcelLabelItem'
    MarketplaceParcelsCancelRequest:
      type: object
      required:
        - parcel_id
      properties:
        parcel_id:
          $ref: '#/components/schemas/MarketplaceParcelIdType'
    MarketplaceParcelsCancelResponse:
      type: object
      properties: {}
    MarketplaceParcelsCreateRequest:
      type: object
      required:
        - order_id
        - items
      properties:
        order_id:
          $ref: '#/components/schemas/MarketplaceOrderIdType'
        items:
          type: array
          items:
            $ref: '#/components/schemas/MarketplaceParcelItem'
    MarketplaceParcelsCreateResponse:
      type: object
      properties:
        parcel_id:
          $ref: '#/components/schemas/MarketplaceParcelIdType'
        items:
          type: array
          items:
            $ref: '#/components/schemas/MarketplaceParcelItem'
    MarketplaceParcelsUnpackRequest:
      type: object
      required:
        - parcel_id
      properties:
        parcel_id:
          $ref: '#/components/schemas/MarketplaceParcelIdType'
    MarketplaceParcelsUnpackResponse:
      type: object
      properties: {}
    MarketplaceShipmentIdType:
      type: string
      description: Идентификатор отгрузки
      maxLength: 36
    MarketplaceShipmentStatus:
      type: string
      description: |
        Статус отгрузки
        * `DRAFT`                 — Формируется
        * `CONFIRMED`             — Подтверждена
        * `ACCEPTANCE_STARTED`    — Начата приемка отгрузки
        * `ACCEPTANCE_COMPLETED`  — Приемка отгрузки завершена
        * `CANCELED`              — Отменена
      enum:
        - DRAFT
        - CONFIRMED
        - ACCEPTANCE_STARTED
        - ACCEPTANCE_COMPLETED
        - CANCELED
    MarketplaceShipmentListRequest:
      type: object
      required:
        - dir
      allOf:
        - $ref: '#/components/schemas/MarketplacePaginationRequest'
        - type: object
          properties:
            dir:
              $ref: '#/components/schemas/MarketplaceSortDirection'
            shipment_id:
              type: array
              minItems: 1
              maxItems: 50
              items:
                $ref: '#/components/schemas/MarketplaceShipmentIdType'
            warehouse_id:
              type: array
              description: Фильтр по идентификаторам складов.
              minItems: 1
              maxItems: 50
              items:
                $ref: '#/components/schemas/MarketplaceWarehouseIdType'
            confirmed_at:
              $ref: '#/components/schemas/MarketplaceFilterDateTime'
            status:
              $ref: '#/components/schemas/MarketplaceShipmentStatus'
    MarketplaceShipment:
      type: object
      required:
        - shipment_id
        - warehouse_id
      properties:
        shipment_id:
          $ref: '#/components/schemas/MarketplaceShipmentIdType'
        warehouse_id:
          $ref: '#/components/schemas/MarketplaceWarehouseIdType'
        created_at:
          type: string
          format: date-time
          example: '2019-08-24T14:15:22'
        confirmed_at:
          type: string
          format: date-time
          example: '2019-08-24T14:15:22'
        status:
          $ref: '#/components/schemas/MarketplaceShipmentStatus'
        parcels:
          type: array
          items:
            properties:
              parcel_id:
                $ref: '#/components/schemas/MarketplaceParcelIdType'
              barcode:
                type: string
    MarketplaceShipmentListResponse:
      type: object
      allOf:
        - $ref: '#/components/schemas/MarketplacePaginationResponse'
        - type: object
          properties:
            shipments:
              type: array
              items:
                $ref: '#/components/schemas/MarketplaceShipment'
    MarketplaceShipmentAddParcelsRequest:
      type: object
      required:
        - parcel_id
      properties:
        parcel_id:
          type: array
          minItems: 1
          maxItems: 100
          items:
            $ref: '#/components/schemas/MarketplaceParcelIdType'
    MarketplaceShipmentAddParcelsResponse:
      type: object
      required:
        - warehouse_id
      properties:
        shipment_id:
          $ref: '#/components/schemas/MarketplaceShipmentIdType'
        warehouse_id:
          $ref: '#/components/schemas/MarketplaceWarehouseIdType'
        parcels:
          type: array
          items:
            properties:
              parcel_id:
                $ref: '#/components/schemas/MarketplaceParcelIdType'
              barcode:
                type: string
    MarketplaceShipmentRemoveParcelsRequest:
      type: object
      required:
        - parcel_id
      properties:
        parcel_id:
          type: array
          minItems: 1
          maxItems: 100
          items:
            $ref: '#/components/schemas/MarketplaceParcelIdType'
    MarketplaceShipmentRemoveParcelsResponse:
      type: object
      properties:
        shipment_id:
          $ref: '#/components/schemas/MarketplaceShipmentIdType'
        parcels:
          type: array
          items:
            properties:
              parcel_id:
                $ref: '#/components/schemas/MarketplaceParcelIdType'
              barcode:
                type: string
    MarketplaceShipmentsConfirmRequest:
      type: object
      description: >-
        shipment_id либо warehouse_id нужно обязательно передавать если используется несколько складов
      required:
        - delivery_date
      anyOf:
        - required: ['shipment_id']
        - required: ['warehouse_id']
      properties:
        shipment_id:
          $ref: '#/components/schemas/MarketplaceShipmentIdType'
        warehouse_id:
          $ref: '#/components/schemas/MarketplaceWarehouseIdType'
        delivery_date:
          type: string
          description: |
            Плановая дата, когда отгрузка будет доставлена на точку drop-off
          example: '2025-01-01'
          format: date
    MarketplaceShipmentParcel:
      type: object
      required:
        - parcel_id
        - barcode
      properties:
        parcel_id:
          $ref: '#/components/schemas/MarketplaceParcelIdType'
        barcode:
          type: string
    MarketplaceShipmentsConfirmResponse:
      type: object
      required:
        - warehouse_id
      properties:
        shipment_id:
          $ref: '#/components/schemas/MarketplaceShipmentIdType'
        warehouse_id:
          $ref: '#/components/schemas/MarketplaceWarehouseIdType'
        parcels:
          type: array
          items:
            $ref: '#/components/schemas/MarketplaceShipmentParcel'
    MarketplaceShipmentsCancelRequest:
      type: object
      required:
        - shipment_id
      properties:
        shipment_id:
          $ref: '#/components/schemas/MarketplaceShipmentIdType'
    MarketplaceShipmentsCancelResponse:
      type: object
      required:
        - shipment_id
        - parcels
      properties:
        shipment_id:
          $ref: '#/components/schemas/MarketplaceShipmentIdType'
        parcels:
          type: array
          items:
            $ref: '#/components/schemas/MarketplaceShipmentParcel'
    MarketplaceShipmentGetDocumentsRequest:
      type: object
      required:
        - shipment_id
        - document_type
      properties:
        shipment_id:
          $ref: '#/components/schemas/MarketplaceShipmentIdType'
        document_type:
          type: string
          description: |
            Тип запрашиваемого документа:

            * `act_of_acceptance` — акт приема-передачи
            * `act_of_mismatch` — акт о расхождениях
            * `delivery_note` — лист отгрузки
          enum:
            - act_of_acceptance
            - act_of_mismatch
            - delivery_note
    MarketplaceShipmentGetDocumentsResponse:
      type: object
      required:
        - file_content
      properties:
        file_content:
          description: Содержимое документа в формате PDF
          type: string
          example: |
            %PDF-1.3\n3 0 obj\n<</Type /Page\n...
    #magnit-market-seller-api-schema-end
  requestBodies:
    OrderNotificationRequest:
      required: true
      description: Событие по заказу
      content:
        application/json:
          schema:
            type: object
            required:
              - type
            properties:
              type:
                $ref: "#/components/schemas/OrderNotificationTypeEnum"
          examples:
            Готов забрать:
              description: "Событие о том, что курьер готов забрать заказ для доставки, или клиент готов забрать заказ для самовывоза."
              value:
                type: order_ready_to_pick_up
            Забрал заказ:
              description: "Событие о том, что заказ был выдан курьеру или клиенту"
              value:
                type: order_picked_up
            Заказ оплачен:
              description: "Событие о том, что по заказу были получена оплата"
              value:
                type: order_paid

    OrderCancellationRequest:
      description: Информация об отмене заказа
      content:
        application/json:
          schema:
            type: object
            required:
              - reason
            properties:
              reason:
                $ref: "#/components/schemas/OrderCancellationReasonEnum"
              cancelled_at:
                type: string
                description: "Дата отмены заказа в RFC3339 с указанием часового пояса"
                example: "2023-12-31T00:00:00+03:00"

    OrderChangeStatusRequest:
      required: true
      description: Запрос на изменение статуса заказа. Отмена статуса заказа через данный метод невозможно.
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/OrderChangeStatusRequest"

    PostV2OauthTokenRequest:
      required: true
      description: "Запрос на получение токена"
      content:
        application/x-www-form-urlencoded:
          schema:
            type: object
            required:
              - client_id
              - client_secret
              - scope
              - grant_type
            properties:
              client_id:
                type: string
                description: "Идентификатор клиента"
                example: da8b953b-c6cc-4d88-a53f-60e3b0e96615
              client_secret:
                type: string
                description: "Секрет"
                example: 525348e77144a9cee9a7471a8b67c50ea85b9e3eb377a3c1a3a23db88f9150eefe76e6a3
              scope:
                type: string
                description: "Права доступа. Разделитель - пробел"
                example: openid last-mile:claims
              grant_type:
                type: string
                description: "Тип доступа"
                example: client_credentials
                default: client_credentials

    UpdatePartnerLogzoneConfigV1:
      description: "Обновление настроек LM в логзонах"
      required: true
      content:
        application/json:
          schema:
            type: object
            additionalProperties:
              type: object

    UpdatePartnerRequestBody:
      description: Запрос на обновление партнера
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                description: "Наименование партнера"
                type: string
              email:
                type: string
                description: "Email партнера"
                x-oapi-codegen-extra-tags:
                  validate: omitempty,email
              parent:
                type: string
                format: uuid
                x-go-type: uuid.UUID
                x-go-type-import:
                  path: github.com/gofrs/uuid/v5
              config:
                type: object

    RatesReplace:
      required: true
      description: "Запрос на замену тарифов"
      content:
        multipart/form-data:
          schema:
            type: object
            required:
              - flow
              - rates
            properties:
              partner_id:
                type: string
                description: "Идентификатор партнера, к которому привязываются тарифы"
                example: "12345687890"
                x-oapi-codegen-extra-tags:
                  form: partner_id
              flow:
                type: string
                description: "Основной флоу партнера, к которому привязан тариф"
                example: "last_mile"
                x-oapi-codegen-extra-tags:
                  validate: required,oneof=last_mile
                  form: flow
              sub_flow:
                type: string
                description: "Ответвление от основного флоу партнера, к которому привязан тариф"
                example: "sub_flow_example"
                x-oapi-codegen-extra-tags:
                  form: sub_flow
              rates:
                type: string
                description: "Файл тарифов"
                format: binary
              started_at:
                type: string
                format: date-time
                description: "Дата и время начала действия тарифа"
                example: "2025-11-11T12:22:11+03:00"
                x-oapi-codegen-extra-tags:
                  validate: omitempty,gt
                  form: started_at
              finished_at:
                type: string
                format: date-time
                description: "Дата и время окончания действия тарифа"
                example: "2026-11-11T12:22:11+03:00"
                x-oapi-codegen-extra-tags:
                  validate: omitempty,gtefield=StartedAt
                  form: finished_at

  responses:
    OrderResponse:
      description: Состав заказа
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Order"

    OrderCreateResponse:
      description: Успешное создание заказа
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/OrderCreateResponse"

    IssueOrderCreateResponse:
      description: Раздел выдачи при создании заказа
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/IssueOrderCreateResponse"

    OrderStatusResponse:
      description: Актуальный статус заказа
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/OrderStatusResponse"
          examples:
            Заказ создан:
              description: "Заказ создан в системе Магнит."
              value:
                status:
                  code: order_created
                  updated_at: "2014-03-31T14:11:29+02:00"
            Заказ собирается:
              description: "Заказ собирается/готовится."
              value:
                status:
                  code: order_on_work
                  updated_at: "2014-03-31T14:11:29+02:00"
            Заказ собран:
              description: "Заказ собран. Готов к самовывозу или ожидает курьера."
              value:
                status:
                  code: order_ready
                  updated_at: "2014-03-31T14:11:29+02:00"
            Заказ выдан:
              description: "Заказ выдан курьеру или произведен самовывоз."
              value:
                status:
                  code: order_issued
                  updated_at: "2014-03-31T14:11:29+02:00"
            Заказ доставлен:
              description: "Заказ вручен клиенту."
              value:
                status:
                  code: order_delivered
                  updated_at: "2014-03-31T14:11:29+02:00"
            Заказ отменен:
              description: "Заказ отменен."
              value:
                status:
                  code: order_cancelled
                  reason: unknown
                  updated_at: "2014-03-31T14:11:29+02:00"

    InternalServerErrorResponse:
      description: Внутренняя ошибка сервера Магнита. Такая ошибка через некоторое время исчезнет сама собой. Если этого не происходит, обратитесь в службу поддержки.

    UnavailableServerErrorResponse:
      description: Сервер Магнита перегружен. Такая ошибка через некоторое время исчезнет сама собой.

    BadRequestErrorResponse:
      description: Что-то не так в содержании запроса. Ориентируйтесь на описание ошибки, чтобы понять, что именно не так.
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"

    BadRequestGoodStocksErrorResponse:
      description: Что-то не так в содержании запроса. Ориентируйтесь на описание ошибки, чтобы понять, что именно не так.
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/BadRequestStoresStockDelta"

    NotFoundErrorResponse:
      description: Запрашиваемый ресурс не найден. Проверьте адреса запросов, по которым обращается система партнера.
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"

    UnauthorizedErrorResponse:
      description: В запросе не указан или указан несуществующий, истекший токен авторизации.
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"

    ForbiddenErrorResponseWithoutBody:
      description: Доступ к запрашиваемой информации запрещен.

    BadRequestErrorResponseWithoutBody:
      description: Что-то не так в содержании запроса.

    UnauthorizedErrorResponseWithoutBody:
      description: В запросе не указан или указан несуществующий, истекший токен авторизации.

    NotFoundErrorResponseWithoutBody:
      description: Запрашиваемый ресурс не найден. Проверьте адреса запросов, по которым обращается система партнера.

    PostV2OauthSuccessResponse:
      description: Успешное получение токена
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/OauthToken"

    PostV2OauthBadResponse:
      description: Ошибка в параметрах, в ответе список ошибок валидации
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/OauthError"

    StoresPricesResponse:
      description: Успешное получение цен по товарам в ТО Магнита
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/StoresPricesItemsV1"

    StoresStocksResponse:
      description: Успешное получение остатков по товарам в ТО Магнита
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/StoresStocksItemsV1"
    #magnit-market-seller-api-responses-begin
    #magnit-market-seller-api-responses-goods
    #magnit-market-seller-api-responses-lms
    Marketplace400:
      description: Запрос содержит неправильные данные
      content:
        application/json:
          schema:
            allOf:
              - $ref: '#/components/schemas/MarketplaceApiErrorResponse'
    Marketplace403:
      description: Нет доступа к запрашиваемому ресурсу
      content:
        application/json:
          schema:
            type: object
            allOf:
              - $ref: '#/components/schemas/MarketplaceApiErrorResponse'
    Marketplace404:
      description: Запрашиваемый ресурс не найдет
      content:
        application/json:
          schema:
            type: object
            allOf:
              - $ref: '#/components/schemas/MarketplaceApiErrorResponse'
    Marketplace500:
      description: Внутренняя ошибка сервера
      content:
        application/json:
          schema:
            type: object
            allOf:
              - $ref: '#/components/schemas/MarketplaceApiErrorResponse'
    #magnit-market-seller-api-responses-end
